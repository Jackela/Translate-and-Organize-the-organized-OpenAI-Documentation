# API å‚è€ƒ

curl [https://api.openai.com/v1/images/variations](https://api.openai.com/v1/images/variations) \
-H "Authorization: Bearer $OPENAI_API_KEY" \
-F image="@otter.png" \
-F n=2 \
-F size="1024x1024"

# **ä»‹ç»**

å¯ä»¥é€šè¿‡ä»»ä½•è¯­è¨€çš„ HTTP è¯·æ±‚ä¸ API äº¤äº’ï¼Œè¯¦æƒ…è¯·å‚è€ƒ[åº“](%E5%BA%93%20a470b72321a346ec8811e8509e45d251.md)

## **èº«ä»½éªŒè¯**

<aside>
ğŸ“– **API keyï¼š**åº”ç”¨ç¨‹åºæ¥å£å¯†é’¥ï¼ŒAPI key æ˜¯ä¸€ç§ç”¨äºèº«ä»½éªŒè¯çš„å¯†é’¥ï¼Œé€šå¸¸ç”¨äºæ§åˆ¶å¯¹ APIï¼ˆåº”ç”¨ç¨‹åºæ¥å£ï¼‰çš„è®¿é—®ã€‚å®ƒæ˜¯ç”± API æä¾›è€…æä¾›çš„ä¸€ç§ä»¤ç‰Œï¼Œå¯æ ‡è¯†å¼€å‘è€…æˆ–ç”¨æˆ·èº«ä»½ï¼Œä»¥é™åˆ¶æˆ–æˆæƒå¯¹ API çš„è®¿é—®ã€‚å¼€å‘è€…éœ€è¦å°†å…¶åµŒå…¥åˆ°ä»£ç ä¸­çš„ API è°ƒç”¨ä¸­ï¼Œä»¥è¿›è¡Œèº«ä»½éªŒè¯ã€‚API æä¾›è€…å¯ä»¥æ ¹æ® key é™åˆ¶æ¯ä¸ªç”¨æˆ·çš„è¯·æ±‚é€Ÿç‡ï¼Œæˆ–æ ¹æ®ä¸åŒçš„ key å¯¹ API è¿›è¡Œä¸åŒçš„æˆæƒã€‚

**APIï¼š Application Programming Interface**ï¼Œåº”ç”¨ç¨‹åºç¼–ç¨‹æ¥å£ï¼Œåœ¨ç‰¹å®šçš„è½¯ä»¶ç¯å¢ƒä¸‹ï¼Œä¸åŒçš„è½¯ä»¶ç»„ä»¶ä¹‹é—´äº’ç›¸äº¤äº’çš„ä¸€ç§æ–¹å¼ï¼Œæ˜¯ä¸€ç»„é¢„å®šä¹‰çš„åè®®ã€è§„åˆ™å’Œå·¥å…·é›†åˆï¼Œç”¨äºæ„å»ºè½¯ä»¶åº”ç”¨ç¨‹åºã€‚

**Account quotaï¼š**è´¦æˆ·é…é¢ï¼Œåœ¨äº‘å¹³å°æˆ–å…¶ä»–è®¡ç®—èµ„æºæä¾›å•†ä¸­ï¼Œæ¯ä¸ªç”¨æˆ·æˆ–è´¦æˆ·è¢«åˆ†é…ä¸€å®šçš„è®¡ç®—èµ„æºæˆ–ä½¿ç”¨é™åˆ¶ã€‚è¿™äº›èµ„æºåŒ…æ‹¬å­˜å‚¨ç©ºé—´ã€CPUæ ¸å¿ƒæ•°é‡ã€ç½‘ç»œå¸¦å®½ç­‰ï¼Œä»¥æ§åˆ¶èµ„æºä½¿ç”¨å’Œæ»¡è¶³éœ€æ±‚ã€‚è¿™äº›é…é¢é€šå¸¸å¯ä»¥é€šè¿‡ç™»å½•è´¦æˆ·å¹¶æŸ¥çœ‹è´¦æˆ·ä¿¡æ¯æ¥ç®¡ç†ã€‚

</aside>

<aside>
ğŸ’¡ OpenAIä¼šè‡ªåŠ¨å›æ”¶å·²æ³„éœ²çš„api keyï¼Œå¦‚æœå‘ç°å‡ºç°â€œempty messageâ€ æˆ– â€œinvalid API keyâ€ç›¸å…³é—®é¢˜ï¼Œè¯·æ£€æŸ¥**[API å¯†é’¥](https://platform.openai.com/account/api-keys)** é¡µé¢æˆ–ç™»å½•è´¦å·é‚®ç®±æŸ¥è¯¢Keyæ˜¯å¦è¢«åˆ¤å®šä¸ºæ³„éœ²ï¼ˆleakï¼‰

åœ¨ä»¥ä¸‹æƒ…å†µä¸‹ï¼ŒAPIå¯†é’¥å°†è¢«è§†ä¸ºâ€œæ³„æ¼â€ï¼š

> å°†APIå¯†é’¥æäº¤åˆ°å…¬å…±æˆ–ç§äººæºä»£ç å­˜å‚¨åº“ä¸­
ç³»ç»Ÿæˆ–åº”ç”¨ç¨‹åºä¸­çš„æ•°æ®æ³„æ¼
æœªç»æˆæƒè®¿é—®æ‚¨çš„å¸æˆ·é…é¢
> 
</aside>

ç”Ÿäº§è¯·æ±‚å¿…é¡»é€šè¿‡åç«¯æœåŠ¡å™¨ï¼ŒAPI å¯†é’¥å¯ä»¥ä»ç¯å¢ƒå˜é‡æˆ–å¯†é’¥ç®¡ç†æœåŠ¡ä¸­å®‰å…¨åœ°åŠ è½½ã€‚

### åŠ è½½API key

pythonï¼š

```python
import os
import openai
openai.organization = "org-pUNaTZzDWO5HyEawU3Nltlp9"
openai.api_key = os.getenv("OPENAI_API_KEY")
```

Node.js:

```jsx
import { Configuration, OpenAIApi } from "openai";
const configuration = new Configuration({
    organization: "org-pUNaTZzDWO5HyEawU3Nltlp9",
    apiKey: process.env.OPENAI_API_KEY,
});
```

æ‰€æœ‰ API è¯·æ±‚éƒ½åº”åœ¨`Authorization`HTTP æ ‡å¤´ä¸­åŒ…å« API å¯†é’¥ï¼Œå¦‚ä¸‹æ‰€ç¤ºï¼š

`Authorization: Bearer OPENAI_API_KEY`

## **è¯·æ±‚ç»„ç»‡**

<aside>
ğŸ“– Organizationï¼šç»„ç»‡ï¼Œä¸æ‚¨çš„OpenAIè´¦æˆ·ç›¸å…³è”çš„å®ä½“ã€‚åœ¨ç™»å½•åï¼Œæ‚¨å¯ä»¥åœ¨ç»„ç»‡è®¾ç½®ä¸­æ‰¾åˆ°æ‚¨çš„ç»„ç»‡åç§°å’ŒIDã€‚ç»„ç»‡åç§°æ˜¯æ˜¾ç¤ºåœ¨ç”¨æˆ·ç•Œé¢ä¸­çš„æ ‡ç­¾ï¼Œè€Œç»„ç»‡IDæ˜¯å¯ç”¨äºAPIè¯·æ±‚çš„å”¯ä¸€æ ‡è¯†ç¬¦ã€‚

</aside>

å¯¹äºå±äºå¤šä¸ªç»„ç»‡çš„ç”¨æˆ·ï¼Œæ‚¨å¯ä»¥ä¼ é€’ä¸€ä¸ªæ ‡å¤´æ¥æŒ‡å®šç”¨äº API è¯·æ±‚çš„ç»„ç»‡ã€‚ä½¿ç”¨è¿™äº› API è¯·æ±‚çš„ç”¨é‡å°†è®¡å…¥æŒ‡å®šç»„ç»‡çš„è®¢é˜…é…é¢ã€‚

ç¤ºä¾‹ curl å‘½ä»¤ï¼š

```
curl <https://api.openai.com/v1/models> \\\\
  -H "Authorization: Bearer $OPENAI_API_KEY" \\\\
  -H "OpenAI-Organization: org-pUNaTZzDWO5HyEawU3Nltlp9"
```

ä½¿ç”¨ **`openai`** Python åŒ…çš„ç¤ºä¾‹ï¼š

```
import os
import openai
openai.organization = "org-pUNaTZzDWO5HyEawU3Nltlp9"
openai.api_key = os.getenv("OPENAI_API_KEY")
openai.Model.list()
```

ä½¿ç”¨ **`openai`** Node.js åŒ…çš„ç¤ºä¾‹ï¼š

```
import { Configuration, OpenAIApi } from "openai";
const configuration = new Configuration({
    organization: "org-pUNaTZzDWO5HyEawU3Nltlp9",
    apiKey: process.env.OPENAI_API_KEY,
});
const openai = new OpenAIApi(configuration);
const response = await openai.listEngines();
```

ç»„ç»‡ ID å¯ä»¥åœ¨ **[ç»„ç»‡è®¾ç½®](https://platform.openai.com/account/org-settings)** é¡µé¢æ‰¾åˆ°ã€‚

## **è¿›è¡Œè¯·æ±‚**

å°†ä»¥ä¸‹å‘½ä»¤ç²˜è´´åˆ°ç»ˆç«¯ä¸­ï¼Œä»¥è¿è¡Œä¸€ä¸ªAPIè¯·æ±‚ã€‚è¯·ç¡®ä¿å°†`$OPENAI_API_KEY`æ›¿æ¢ä¸ºAPIå¯†é’¥ã€‚

```
curl <https://api.openai.com/v1/chat/completions> \\\\
  -H "Content-Type: application/json" \\\\
  -H "Authorization: Bearer $OPENAI_API_KEY" \\\\
  -d '{
     "model": "gpt-3.5-turbo",
     "messages": [{"role": "user", "content": "Say this is a test!"}],
     "temperature": 0.7
   }'

```

æ­¤è¯·æ±‚æŸ¥è¯¢`gpt-3.5-turbo`æ¨¡å‹ï¼Œä»¥å®Œæˆä»¥æç¤ºâ€œ*Say this is a test*â€å¼€å¤´çš„æ–‡æœ¬ã€‚

<aside>
ğŸ’¡ å¤§å¤šæ•°æ—¶å€™apiå›å¤ä¸ºDict[]ï¼Œéƒ¨åˆ†æ—¶å€™ä¸ºList[Dict[]]ï¼Œè¯·æ ¹æ®å®é™…çŠ¶å†µè°ƒæ•´ä»£ç ã€‚
å¤§å¤šæ˜¯æ—¶å€™apiå›å¤å†…å®¹æ ¼å¼ä¸ºJson

</aside>

åº”è¯¥æ”¶åˆ°ä¸€ä¸ªç±»ä¼¼ä»¥ä¸‹çš„å“åº”ï¼š

```json
{
   "id":"chatcmpl-abc123",
   "object":"chat.completion",
   "created":1677858242,
   "model":"gpt-3.5-turbo-0301",
   "usage":{
      "prompt_tokens":13,
      "completion_tokens":7,
      "total_tokens":20
   },
   "choices":[
      {
         "message":{
            "role":"assistant",
            "content":"\\\\n\\\\nThis is a test!"
         },
         "finish_reason":"stop",
         "index":0
      }
   ]
}

```

ç°åœ¨ï¼Œç¬¬ä¸€ä¸ªèŠå¤©å®Œæˆã€‚å¯ä»¥çœ‹åˆ°`finish_reason`æ˜¯`stop`**ï¼Œ**è¿™æ„å‘³ç€APIè¿”å›äº†æ¨¡å‹ç”Ÿæˆçš„å®Œæ•´å®Œæˆã€‚

åœ¨ä¸Šé¢çš„è¯·æ±‚ä¸­ï¼Œåªç”Ÿæˆäº†ä¸€æ¡æ¶ˆæ¯ï¼ˆé»˜è®¤çŠ¶æ€n=1ï¼‰ï¼Œ**å¯ä»¥è®¾ç½®`n`å‚æ•°ä»¥ç”Ÿæˆå¤šä¸ªæ¶ˆæ¯é€‰é¡¹ã€‚**

### å‚æ•°

### ç¤ºä¾‹è¯·æ±‚

### ç¤ºä¾‹å“åº”

<aside>
ğŸ”‘ æµ‹è¯•/è¯•ç”¨èŒƒä¾‹å‰ï¼Œè¯·åŠ¡å¿…è®°å¾—å°†`$OPENAI_API_KEY`æ›¿æ¢ä¸ºè‡ªå·±çš„API å¯†é’¥

è®¿é—® **[API å¯†é’¥](https://platform.openai.com/account/api-keys)** é¡µé¢ä»¥æ£€ç´¢åœ¨è¯·æ±‚ä¸­ä½¿ç”¨çš„ API å¯†é’¥ã€‚

</aside>

<aside>
ğŸ“– **Requiredï¼š**å¿…é€‰

**Optionalï¼š**å¯é€‰

</aside>

# [æ¨¡å‹](https://platform.openai.com/docs/api-reference/models)

å‚è€ƒ[æ¨¡å‹](%E6%A8%A1%E5%9E%8B%20d5054199951a46c8b18dbd2073c3fa78.md)æ–‡æ¡£äº†è§£å¯ç”¨æ¨¡å‹åŠå…¶ä¹‹é—´çš„åŒºåˆ«ã€‚

## **åˆ—å‡ºæ¨¡å‹**

åˆ—å‡ºç›®å‰å¯ç”¨çš„æ¨¡å‹ï¼Œå¹¶æä¾›æ¯ä¸ªæ¨¡å‹çš„åŸºæœ¬ä¿¡æ¯ï¼Œä¾‹å¦‚æ‰€æœ‰è€…å’Œå¯ç”¨æ€§ã€‚

```markdown
GET https://api.openai.com/v1/models
```

### å‚æ•°

### ç¤ºä¾‹è¯·æ±‚

curl

```markdown
curl [https://api.openai.com/v1/models](https://api.openai.com/v1/models) \
-H "Authorization: Bearer $OPENAI_API_KEY"
```

python

```python
import os
import openai
openai.api_key = os.getenv("OPENAI_API_KEY")
openai.Model.list()
```

node.js

```jsx
const { Configuration, OpenAIApi } = require("openai");
const configuration = new Configuration({
  apiKey: process.env.OPENAI_API_KEY,
});
const openai = new OpenAIApi(configuration);
const response = await openai.listModels();
```

### ç¤ºä¾‹å“åº”

```json
{
  "data": [
    {
      "id": "model-id-0",
      "object": "model",
      "owned_by": "organization-owner",
      "permission": [...]
    },
    {
      "id": "model-id-1",
      "object": "model",
      "owned_by": "organization-owner",
      "permission": [...]
    },
    {
      "id": "model-id-2",
      "object": "model",
      "owned_by": "openai",
      "permission": [...]
    },
  ],
  "object": "list"
}
```

## **è·å–æ¨¡å‹**

```markdown
GETÂ [https://api.openai.com/v1/models/{model}](https://api.openai.com/v1/models/%7Bmodel%7D)
```

æ£€ç´¢æ¨¡å‹å®ä¾‹ï¼Œæä¾›æœ‰å…³æ¨¡å‹çš„åŸºæœ¬ä¿¡æ¯ï¼Œä¾‹å¦‚æ‰€æœ‰è€…å’Œæƒé™è®¾ç½®ã€‚

### å‚æ•°

```markdown
model: string Required
ç”¨äºæ­¤è¯·æ±‚çš„æ¨¡å‹çš„ID
```

### ç¤ºä¾‹è¯·æ±‚

<aside>
ğŸ¤– ä»¥â€adaâ€ä¸ºä¾‹ï¼Œå¯è‡ªç”±æ›¿æ¢ç°æœ‰æ¨¡å‹ï¼Œè¯¦ç»†åç§°è¯·æŸ¥é˜…[æ¨¡å‹](%E6%A8%A1%E5%9E%8B%20d5054199951a46c8b18dbd2073c3fa78.md)æ–‡æ¡£

</aside>

### **curl**

```markdown
curl https://api.openai.com/v1/models/ada \
  -H "Authorization: Bearer $OPENAI_API_KEY"
```

### **python**

```python
import os
import openai
openai.api_key = os.getenv("OPENAI_API_KEY")
openai.Model.retrieve("ada")
```

### **node.js**

```jsx
const { Configuration, OpenAIApi } = require("openai");
const configuration = new Configuration({
  apiKey: process.env.OPENAI_API_KEY,
});
const openai = new OpenAIApi(configuration);
const response = await openai.retrieveModel("ada");
```

### ç¤ºä¾‹å“åº”

```json
{
  "id": "ada",
  "object": "model",
  "owned_by": "openai",
  "permission": [...]
}
```

<aside>
ğŸ¤– Completionså’ŒChatçš„åŒºåˆ«åœ¨äºç”¨é€”å’Œå®ç°æ–¹å¼ä¸åŒã€‚Completionsç”¨äºç”Ÿæˆæ–‡æœ¬å®Œæˆï¼Œæä¾›äº†å¼ºå¤§çš„æ¨¡å‹æ¥å£ï¼›è€ŒChatæ˜¯ä¸€ç§ä½¿ç”¨èŠå¤©å¼æ ¼å¼çš„APIï¼Œæ›´å…·æœ‰äº¤äº’æ€§ï¼Œå¹¶å¯ç”¨äºäº¤äº’å¼ä»»åŠ¡ã€‚
Chatæ˜¯æ¯”Completions APIæ›´æ–°çš„APIï¼ŒChat APIä½¿ç”¨ä¸åŒï¼ˆæ›´æ–°ï¼‰çš„æ¨¡å‹ï¼šâ€œgpt-3.5ï¼Œ gpt-4â€ã€‚
è¯¦ç»†å‚è§[æ¨¡å‹](%E6%A8%A1%E5%9E%8B%20d5054199951a46c8b18dbd2073c3fa78.md)

</aside>

<aside>
ğŸ“– **Completionï¼š**æ–‡æœ¬è¡¥å…¨ï¼Œè‡ªåŠ¨æ–‡æœ¬ç”Ÿæˆæˆ–è¯­è¨€æ¨¡å‹çš„ Completion åŠŸèƒ½ï¼Œå³è¾“å…¥ä¸€éƒ¨åˆ†æ–‡æœ¬ï¼Œç„¶åä½¿ç”¨è¯¥æ¨¡å‹æ¥ç”Ÿæˆä½™ä¸‹éƒ¨åˆ†çš„è¯­æ®µã€‚

**Temperatureï¼š**æ¸©åº¦ï¼Œæ§åˆ¶è‡ªåŠ¨æ–‡æœ¬ç”Ÿæˆçš„å‚æ•°ã€‚æ¸©åº¦è¶Šé«˜ï¼Œç”Ÿæˆçš„æ–‡æœ¬å°±è¶Šä¸ç¡®å®šã€æ›´æœ‰åˆ›é€ æ€§å’Œå¤šæ ·æ€§ï¼Œä½†ä¹Ÿæ›´éš¾ç†è§£ã€‚æ¸©åº¦è®¾ç½®å¾—è¶Šä½ï¼Œç”Ÿæˆçš„æ–‡æœ¬å°±è¶Šç¡®å®šå’Œç²¾ç¡®ï¼Œä½†å¯èƒ½ç¼ºä¹åˆ›é€ æ€§å’Œå¤šæ ·æ€§ã€‚

**Nucleus samplingï¼š**æ ¸å¿ƒé‡‡æ ·ï¼Œä¸€ç§åœ¨è‡ªç„¶è¯­è¨€å¤„ç†ä¸­ä½¿ç”¨çš„æ–‡æœ¬ç”ŸæˆæŠ€æœ¯ï¼Œä»é¢„æµ‹çš„å¯èƒ½æ€§åˆ†å¸ƒä¸­é€‰æ‹©æ¦‚ç‡æ€»å’Œæœ€æ¥è¿‘æŒ‡å®šé˜ˆå€¼çš„æœ€å°é›†ï¼Œè¿™ä¸ªé›†åˆä¸­çš„æ‰€æœ‰é€‰é¡¹æˆä¸ºå¯é€‰å€™é€‰é¡¹ã€‚éšæœºæŠ½æ ·è¾“å‡ºä¸€é¡¹ï¼Œç¡®ä¿å¤šæ ·æ€§ï¼ŒåŒæ—¶æ’é™¤å¯èƒ½æ€§éå¸¸ä½çš„å•è¯å’Œç»„åˆã€‚

**Streamï¼š**æµå¼ä¼ è¾“ï¼Œä½¿ç”¨æµå¼ä¼ è¾“æœºåˆ¶ï¼Œå¯ä»¥å®æ—¶å°†APIå“åº”æ•°æ®æ¨é€ç»™å®¢æˆ·ç«¯ï¼Œæ— éœ€ç­‰å¾…æ•´ä¸ªå“åº”æ•°æ®ç”Ÿæˆã€‚Streamæœºåˆ¶æé«˜äº†æ•°æ®ä¼ è¾“æ•ˆç‡å’Œå“åº”é€Ÿåº¦ï¼Œé€‚åˆå¤„ç†å¤§è§„æ¨¡ä»»åŠ¡å’Œæé«˜APIæ€§èƒ½ã€‚

</aside>

# [æ–‡æœ¬è¡¥å…¨](https://platform.openai.com/docs/api-reference/completions)

ç»™å®šä¸€ä¸ªæç¤ºï¼Œæ¨¡å‹å°†è¿”å›ä¸€ä¸ªæˆ–å¤šä¸ªé¢„æµ‹çš„å®Œæˆï¼Œå¹¶å¯ä»¥è¿”å›æ¯ä¸ªä½ç½®ä¸Šå¤‡é€‰æ ‡è®°çš„æ¦‚ç‡ã€‚

## åˆ›å»ºè¡¥å…¨

ä¸ºæä¾›çš„æç¤ºå’Œå‚æ•°åˆ›å»ºå®Œæˆã€‚

```markdown
POSTÂ [https://api.openai.com/v1/completions](https://api.openai.com/v1/completions)
```

### å‚æ•°

```markdown
model: string Required
è¦ä½¿ç”¨çš„æ¨¡å‹IDã€‚
```

å¯ä»¥ä½¿ç”¨[åˆ—å‡ºæ¨¡å‹](https://platform.openai.com/docs/api-reference/models/list)APIæŸ¥çœ‹æ‰€æœ‰å¯ç”¨æ¨¡å‹ï¼Œæˆ–æŸ¥çœ‹æ¨¡å‹æ–‡æ¡£è·å–æ›´å¤šç»†èŠ‚ã€‚

```markdown
prompt: string | array Optional Defaults:Â <|endoftext|>
ç”¨äºç”Ÿæˆå®Œæˆæç¤ºçš„æç¤ºï¼Œä»¥å­—ç¬¦ä¸²ã€å­—ç¬¦ä¸²æ•°ç»„ã€ä»¤ç‰Œæ•°ç»„æˆ–ä»¤ç‰Œæ•°ç»„çš„å½¢å¼ç¼–ç ã€‚
```

`<|endoftext|>` è¯¥ç¬¦å·æ˜¯åœ¨æ¨¡å‹è®­ç»ƒæœŸé—´çš„æ–‡æ¡£åˆ†éš”ç¬¦ã€‚

å› æ­¤ï¼Œå¦‚æœæœªæŒ‡å®šæç¤ºï¼Œåˆ™æ¨¡å‹å°†ç”Ÿæˆä¼¼ä¹æ˜¯ä»æ–°æ–‡æ¡£å¼€å¤´å¼€å§‹çš„ã€‚

```markdown
suffix: string Optional Defaults:Â null
æ’å…¥æ–‡æœ¬å®Œæˆåçš„åç¼€ã€‚
```

```markdown
max_tokens: integer Optional Defaults: 16
åœ¨å®Œæˆä¸­ç”Ÿæˆçš„æœ€å¤§tokenæ•°ã€‚
```

æ‚¨çš„æç¤ºæ–‡æœ¬å­—ç¬¦æ•°ä»¥åŠ **`max_tokens`** å‚æ•°çš„æ€»å’Œä¸èƒ½è¶…è¿‡æ¨¡å‹æ‰€èƒ½æ¥å—çš„ä¸Šä¸‹æ–‡é•¿åº¦ã€‚å‚è€ƒOpenAIæä¾›çš„[Cookbook](https://github.com/openai/openai-cookbook/tree/main)ä¸­çš„ **[Python ä»£ç ç¤ºä¾‹](https://github.com/openai/openai-cookbook/blob/main/examples/How_to_count_tokens_with_tiktoken.ipynb)** è®¡ç®—tokenæ•°é‡ã€‚

```markdown
temperature: number Optional Defaults: 1 
é€‰æ‹©0åˆ°2ä¹‹é—´çš„é‡‡æ ·æ¸©åº¦ã€‚è¾ƒé«˜çš„æ¸©åº¦ï¼ˆå¦‚0.8ï¼‰ä¼šä½¿ç»“æœæ›´éšæœºï¼Œè¾ƒä½çš„æ¸©åº¦ï¼ˆå¦‚0.2ï¼‰ä¼šä½¿ç»“æœæ›´é›†ä¸­å’Œç¡®å®šã€‚
```

<aside>
âš™ é€šå¸¸å»ºè®®æ›´æ”¹`temperature`æˆ–`top_p`ï¼Œä½†ä¸è¦åŒæ—¶æ›´æ”¹ä¸¤è€…ã€‚ä»¥ä¸‹æ˜¯å¯ç”¨çš„å‚æ•°

</aside>

```markdown
top_p: number Optional Defaults: 1ã€
```

ä½¿ç”¨ç§°ä¸º nucleus sampling çš„æ›¿ä»£æ¸©åº¦é‡‡æ ·ï¼Œæ¨¡å‹ä¼šè€ƒè™‘å…·æœ‰ top_p æ¦‚ç‡è´¨é‡çš„tokençš„ç»“æœã€‚æ‰€ä»¥ 0.1 è¡¨ç¤ºä»…è€ƒè™‘ç»„æˆå‰ 10% æ¦‚ç‡è´¨é‡çš„tokenã€‚

```
n: integer Optional Defaults: 1
ä¸ºæ¯ä¸ªæç¤ºç”Ÿæˆçš„å®Œæˆæ•°ã€‚
```

```
stream: boolean Optional Defaults: false
æ˜¯å¦è¿”å›éƒ¨åˆ†è¿›åº¦ã€‚
```

å¦‚æœè®¾ç½®ä¸ºTrueï¼ŒAPIè°ƒç”¨å¯ä»¥å®æ—¶è¿”å›å·²å¤„ç†çš„æ ‡è®°ï¼Œä»¥æ•°æ®æµçš„å½¢å¼å‘é€æ•°æ®ã€‚å½“å¤„ç†çš„æ ‡è®°å¯ç”¨æ—¶ï¼Œå°†å‘é€ä¸€ä¸ªæ•°æ®æµæ¶ˆæ¯ï¼Œå°†æ ‡è®°ä½œä¸ºæ•°æ®å‘é€ã€‚å¤„ç†å®Œæˆæ—¶ï¼Œå°†å‘é€ä¸€ä¸ª"data: [DONE]"çš„ç»ˆæ­¢æ¶ˆæ¯æ¥æ ‡è¯†æµçš„ç»“æŸã€‚

```
logprobs: integer Optional Defaults: null
åœ¨æœ€å¯èƒ½çš„æ ‡è®°ä¸ŠåŒ…æ‹¬å¯¹æ•°æ¦‚ç‡ä»¥åŠé€‰æ‹©çš„æ ‡è®°ã€‚
```

ä¾‹å¦‚ï¼Œå¦‚æœ logprobs ä¸º 5ï¼Œåˆ™ API å°†è¿”å›æœ€æœ‰å¯èƒ½çš„ 5 ä¸ªæ ‡è®°çš„åˆ—è¡¨ã€‚API å°†å§‹ç»ˆè¿”å›æ‰€é€‰ä»¤ç‰Œçš„å¯¹æ•°æ¦‚ç‡ï¼Œå› æ­¤å“åº”ä¸­æœ€å¤šå¯èƒ½æœ‰ logprobs+1 ä¸ªå…ƒç´ ã€‚

```
echo: boolean Optional Defaults: false
é™¤äº†å®Œæˆä¹‹å¤–è¿˜å›æ˜¾æç¤ºã€‚
```

```
stop: string | array Optional Defaults: null
API å°†åœ¨æ­¤å¤„åœæ­¢è¿›ä¸€æ­¥ç”Ÿæˆçš„tokensã€‚
```

æœ€å¤šå¯ç”Ÿæˆ 4 ä¸ªåºåˆ—ã€‚è¿”å›çš„æ–‡æœ¬ä¸åŒ…å«åœæ­¢åºåˆ—ã€‚

```
presence_penalty: number Optional Defaults: 0
ä»‹äº -20 å’Œ 20 ä¹‹é—´çš„æ•°å­—ã€‚
```

ä¸ºå¢åŠ æ¨¡å‹å¯¹æ–°è¯é¢˜çš„è®¨è®ºå¯èƒ½æ€§ï¼Œéœ€è¦æ£€æŸ¥æƒ©ç½šæ–°ä»¤ç‰Œæ˜¯å¦å‡ºç°åœ¨è¿„ä»Šä¸ºæ­¢çš„æ–‡æœ¬ä¸­ã€‚

```
best_of: integer Optional Defaults: 1
åœ¨æœåŠ¡å™¨ç«¯ç”Ÿæˆ best_of å®Œæˆå¹¶è¿”å›â€œæœ€ä½³â€å®Œæˆï¼Œå³æ¯ä¸ªæ ‡è®°çš„æœ€é«˜å¯¹æ•°æ¦‚ç‡ã€‚
```

ç»“æœæ— æ³•æµå¼ä¼ è¾“ã€‚

```
logit_bias: map Optional Defaults: null
ä¿®æ”¹å‡ºç°åœ¨å®Œæˆä¸­çš„æŒ‡å®šæ ‡è®°çš„å¯èƒ½æ€§ã€‚
```

```
user: string Optional
è¡¨ç¤ºæ‚¨çš„æœ€ç»ˆç”¨æˆ·çš„å”¯ä¸€æ ‡è¯†ç¬¦ã€‚
```

å¯ä»¥å¸®åŠ© OpenAI ç›‘è§†å’Œæ£€æµ‹æ»¥ç”¨ã€‚

### ç¤ºä¾‹è¯·æ±‚

### curl

```
curl <https://api.openai.com/v1/completions> \\
-H "Content-Type: application/json" \\
-H "Authorization: Bearer $OPENAI_API_KEY" \\
-d '{
"model": "text-davinci-003",
"prompt": "Say this is a test",
"max_tokens": 7,
"temperature": 0
}'

```

### python

```
import os
import openai
openai.api_key = os.getenv("OPENAI_API_KEY")
openai.Completion.create(
model="text-davinci-003",
prompt="Say this is a test",
max_tokens=7,
temperature=0
)

```

### node.js

```
const { Configuration, OpenAIApi } = require("openai");
const configuration = new Configuration({
  apiKey: process.env.OPENAI_API_KEY,
});
const openai = new OpenAIApi(configuration);
const response = await openai.complete({
  engine: "text-davinci-003",
  prompt: "Say this is a test",
  maxTokens: 7,
  temperature: 0,
});

```

### ç¤ºä¾‹å“åº”

```json
{
"id": "cmpl-uqkvlQyYK7bGYrRHQ0eXlWi7",
"object": "text_completion",
"created": 1589478378,
"model": "text-davinci-003",
"choices": [
{
"text": "\n\nThis is indeed a test",
"index": 0,
"logprobs": null,
"finish_reason": "length"
}
],
"usage": {
"prompt_tokens": 5,
"completion_tokens": 7,
"total_tokens": 12
}
}
```

# **[èŠå¤©](https://platform.openai.com/docs/api-reference/chat)**

ç»™å®šä¸€ç»„æè¿°å¯¹è¯çš„æ¶ˆæ¯åˆ—è¡¨ï¼Œæ¨¡å‹å°†è¿”å›ä¸€ä¸ªå“åº”ã€‚

## åˆ›å»ºèŠå¤©

```markdown
POST [https://api.openai.com/v1/chat/completions](https://api.openai.com/v1/chat/completions)
```

### å‚æ•°

```markdown
model: string Required
è¦ä½¿ç”¨çš„æ¨¡å‹IDã€‚
```

```markdown
messages: array Required
å·²è¿›è¡Œçš„å¯¹è¯çš„æ¶ˆæ¯åˆ—è¡¨ã€‚

	role: string Required
	è¿™æ¡æ¶ˆæ¯çš„ä½œè€…è§’è‰²ã€‚å¯é€‰ï¼š systemã€user æˆ– assistantã€‚
	
	content: string Required
	æ¶ˆæ¯å†…å®¹ã€‚
	
	name: string Optional
	è¿™æ¡æ¶ˆæ¯çš„ä½œè€…å§“åã€‚å¯ä»¥åŒ…å«a-zã€A-Zã€0-9å’Œä¸‹åˆ’çº¿ï¼Œæœ€å¤§é•¿åº¦ä¸º64ä¸ªå­—ç¬¦ã€‚
```

```markdown
temperature: number Optional Defaults: 1 
é€‰æ‹©0åˆ°2ä¹‹é—´çš„é‡‡æ ·æ¸©åº¦ã€‚
```

è¾ƒé«˜çš„æ¸©åº¦ï¼ˆå¦‚0.8ï¼‰ä¼šä½¿ç»“æœæ›´éšæœºï¼Œè¾ƒä½çš„æ¸©åº¦ï¼ˆå¦‚0.2ï¼‰ä¼šä½¿ç»“æœæ›´é›†ä¸­å’Œç¡®å®šã€‚

<aside>
âš™ é€šå¸¸å»ºè®®æ›´æ”¹`temperature`æˆ–`top_p`ï¼Œä½†ä¸è¦åŒæ—¶æ›´æ”¹ä¸¤è€…ã€‚ä»¥ä¸‹æ˜¯å¯ç”¨çš„å‚æ•°

</aside>

```markdown
top_p: number Optional Defaults: 1
```

ä½¿ç”¨ç§°ä¸º nucleus sampling çš„æ›¿ä»£æ¸©åº¦é‡‡æ ·ï¼Œæ¨¡å‹ä¼šè€ƒè™‘å…·æœ‰ top_p æ¦‚ç‡è´¨é‡çš„tokençš„ç»“æœã€‚æ‰€ä»¥ 0.1 è¡¨ç¤ºä»…è€ƒè™‘ç»„æˆå‰ 10% æ¦‚ç‡è´¨é‡çš„ä»¤ç‰Œã€‚

```
n: integer Optional Defaults: 1
ä¸ºæ¯ä¸ªæç¤ºç”Ÿæˆçš„å®Œæˆæ•°ã€‚
```

```
stream: boolean Optional Defaults: false
æ˜¯å¦è¿”å›éƒ¨åˆ†è¿›åº¦ã€‚
```

å¦‚æœè®¾ç½®ä¸ºTrueï¼ŒAPIè°ƒç”¨å¯ä»¥å®æ—¶è¿”å›å·²å¤„ç†çš„æ ‡è®°ï¼Œä»¥æ•°æ®æµçš„å½¢å¼å‘é€æ•°æ®ã€‚å½“å¤„ç†çš„æ ‡è®°å¯ç”¨æ—¶ï¼Œå°†å‘é€ä¸€ä¸ªæ•°æ®æµæ¶ˆæ¯ï¼Œå°†æ ‡è®°ä½œä¸ºæ•°æ®å‘é€ã€‚å¤„ç†å®Œæˆæ—¶ï¼Œå°†å‘é€ä¸€ä¸ª"data: [DONE]"çš„ç»ˆæ­¢æ¶ˆæ¯æ¥æ ‡è¯†æµçš„ç»“æŸã€‚

```
logprobs: integer Optional Defaults: null
åœ¨æœ€å¯èƒ½çš„æ ‡è®°ä¸ŠåŒ…æ‹¬å¯¹æ•°æ¦‚ç‡ä»¥åŠé€‰æ‹©çš„æ ‡è®°ã€‚
```

ä¾‹å¦‚ï¼Œå¦‚æœ logprobs ä¸º 5ï¼Œåˆ™ API å°†è¿”å›æœ€æœ‰å¯èƒ½çš„ 5 ä¸ªæ ‡è®°çš„åˆ—è¡¨ã€‚API å°†å§‹ç»ˆè¿”å›æ‰€é€‰ä»¤ç‰Œçš„å¯¹æ•°æ¦‚ç‡ï¼Œå› æ­¤å“åº”ä¸­æœ€å¤šå¯èƒ½æœ‰ logprobs+1 ä¸ªå…ƒç´ ã€‚

```
echo: boolean Optional Defaults: false
é™¤äº†å®Œæˆä¹‹å¤–è¿˜å›æ˜¾æç¤ºã€‚
```

```
stop: string | array Optional Defaults: null
API å°†åœ¨æ­¤å¤„åœæ­¢è¿›ä¸€æ­¥ç”Ÿæˆçš„tokensã€‚
```

æœ€å¤šå¯ç”Ÿæˆ 4 ä¸ªåºåˆ—ã€‚è¿”å›çš„æ–‡æœ¬ä¸åŒ…å«åœæ­¢åºåˆ—ã€‚

<aside>
ğŸ“– **Frequency and presence penalties**

é¢‘ç‡å’Œå­˜åœ¨æƒ©ç½šå¯ä»¥ç”¨æ¥å‡å°‘é‡å¤çš„æ ‡è®°åºåˆ—çš„é‡‡æ ·æ¦‚ç‡ã€‚å®ƒä»¬é€šè¿‡ç›´æ¥ä¿®æ”¹é€»è¾‘å›å½’ï¼ˆæœªå½’ä¸€åŒ–çš„å¯¹æ•°æ¦‚ç‡ï¼‰ä¸åŠ æ€§è´¡çŒ®ç›¸ç»“åˆæ¥å·¥ä½œã€‚

`mu[j] -> mu[j] - c[j] * alpha_frequency - float(c[j] > 0) * alpha_presence`

å…¶ä¸­ï¼š

- **`mu[j]`** æ˜¯ç¬¬jä¸ªtokençš„é€»è¾‘å›å½’
- **`c[j]`** æ˜¯åœ¨å½“å‰ä½ç½®ä¹‹å‰å¯¹è¯¥tokenè¿›è¡Œé‡‡æ ·çš„é¢‘ç‡
- **`float(c[j] > 0)`** æ˜¯1ï¼Œå¦‚æœ**`c[j] > 0`*ï¼Œå¦åˆ™ä¸º0
- **`alpha_frequency`** æ˜¯é¢‘ç‡æƒ©ç½šç³»æ•°
- **`alpha_presence`** æ˜¯å­˜åœ¨æƒ©ç½šç³»æ•°

æ­£å¦‚æˆ‘ä»¬æ‰€çœ‹åˆ°çš„ï¼Œå­˜åœ¨æƒ©ç½šæ˜¯ä¸€æ¬¡æ€§çš„åŠ æ€§è´¡çŒ®ï¼Œé€‚ç”¨äºå·²ç»è¢«é‡‡æ ·è‡³å°‘ä¸€æ¬¡çš„æ‰€æœ‰æ ‡è®°ï¼Œè€Œé¢‘ç‡æƒ©ç½šæ˜¯ä¸å·²ç»è¢«é‡‡æ ·çš„ç‰¹å®šæ ‡è®°çš„é¢‘ç‡æˆæ¯”ä¾‹çš„è´¡çŒ®ã€‚

å¦‚æœæ—¨åœ¨ä»…ç•¥å¾®å‡å°‘é‡å¤é‡‡æ ·ï¼Œåˆ™æƒ©ç½šç³»æ•°çš„åˆç†å€¼çº¦ä¸º0.1åˆ°1ã€‚å¦‚æœæ—¨åœ¨å¼ºçƒˆæŠ‘åˆ¶é‡å¤ï¼Œåˆ™å¯ä»¥å°†ç³»æ•°å¢åŠ åˆ°2ï¼Œä½†è¿™å¯èƒ½ä¼šæ˜æ˜¾é™ä½æ ·æœ¬çš„è´¨é‡ã€‚è´Ÿå€¼å¯ç”¨äºå¢åŠ é‡å¤çš„å¯èƒ½æ€§ã€‚

</aside>

```
presence_penalty: number Optional Defaults: 0
ä»‹äº -2.0 å’Œ 2.0 ä¹‹é—´çš„æ•°å­—ã€‚
```

æ­£å€¼ä¼šæ ¹æ®æ–°æ ‡è®°æ˜¯å¦å‡ºç°åœ¨å·²æœ‰æ–‡æœ¬ä¸­å¯¹æ–°æ ‡è®°è¿›è¡Œæƒ©ç½šï¼Œä»è€Œæé«˜æ¨¡å‹è°ˆè®ºæ–°è¯é¢˜çš„å¯èƒ½æ€§ã€‚

```
frequency_penalty: number Optional Defaults: 0
ä»‹äº -2.0 å’Œ 2.0 ä¹‹é—´çš„æ•°å­—ã€‚
```

æ­£å€¼ä¼šæ ¹æ®æ–°æ ‡è®°åœ¨å·²æœ‰æ–‡æœ¬ä¸­çš„é¢‘ç‡å¯¹æ–°æ ‡è®°è¿›è¡Œæƒ©ç½šï¼Œä»è€Œé™ä½æ¨¡å‹å®Œå…¨é‡å¤ç›¸åŒè¯­å¥çš„å¯èƒ½æ€§ã€‚

```
best_of: integer Optional Defaults: 1
åœ¨æœåŠ¡å™¨ç«¯ç”Ÿæˆ best_of å®Œæˆå¹¶è¿”å›â€œæœ€ä½³â€å®Œæˆï¼Œå³æ¯ä¸ªæ ‡è®°çš„æœ€é«˜å¯¹æ•°æ¦‚ç‡ã€‚
```

ç»“æœæ— æ³•æµå¼ä¼ è¾“ã€‚

```
logit_bias: map Optional Defaults: null
ä¿®æ”¹å‡ºç°åœ¨å®Œæˆä¸­çš„æŒ‡å®šæ ‡è®°çš„å¯èƒ½æ€§ã€‚
```

```
user: string Optional
è¡¨ç¤ºæ‚¨çš„æœ€ç»ˆç”¨æˆ·çš„å”¯ä¸€æ ‡è¯†ç¬¦ã€‚
```

å¯ä»¥å¸®åŠ© OpenAI ç›‘è§†å’Œæ£€æµ‹æ»¥ç”¨ã€‚

### ç¤ºä¾‹è¯·æ±‚

### curl

```
curl <https://api.openai.com/v1/chat/completions> \\
-H "Content-Type: application/json" \\
-H "Authorization: Bearer $OPENAI_API_KEY" \\
-d '{
"model": "gpt-3.5-turbo",
"messages": [{"role": "user", "content": "Hello!"}]
}'

```

### python

```
import os
import openai
openai.api_key = os.getenv("OPENAI_API_KEY")

completion = openai.ChatCompletion.create(
model="gpt-3.5-turbo",
messages=[
{"role": "user", "content": "Hello!"}
]
)

print(completion.choices[0].message)

```

### node.js

```
const { Configuration, OpenAIApi } = require("openai");

const configuration = new Configuration({
apiKey: process.env.OPENAI_API_KEY,
});
const openai = new OpenAIApi(configuration);

const completion = await openai.createChatCompletion({
model: "gpt-3.5-turbo",
messages: [{role: "user", content: "Hello world"}],
});
console.log(completion.data.choices[0].message);

```

### ç¤ºä¾‹å“åº”

```json
{
"id": "chatcmpl-123",
"object": "chat.completion",
"created": 1677652288,
"choices": [{
"index": 0,
"message": {
"role": "assistant",
"content": "\n\nHello there, how may I assist you today?",
},
"finish_reason": "stop"
}],
"usage": {
"prompt_tokens": 9,
"completion_tokens": 12,
"total_tokens": 21
}
}
```

# [ç¼–è¾‘](https://platform.openai.com/docs/api-reference/edits)

## åˆ›å»ºç¼–è¾‘

```markdown
POSTÂ https://api.openai.com/v1/edits
```

ä¸ºæä¾›çš„è¾“å…¥ã€æŒ‡ä»¤å’Œå‚æ•°åˆ›å»ºæ–°çš„ç¼–è¾‘ã€‚

### å‚æ•°

```markdown
model: string Required
è¦ä½¿ç”¨çš„æ¨¡å‹IDã€‚
```

```markdown
input string Optional Defaults: ''
ç”¨ä½œç¼–è¾‘èµ·ç‚¹çš„è¾“å…¥æ–‡æœ¬ã€‚
```

```markdown
instruction: string Required
å‘Šè¯‰æ¨¡å‹å¦‚ä½•ç¼–è¾‘æç¤ºçš„æŒ‡ä»¤ã€‚
```

```markdown
n: integer Optional Defaults: 1
ä¸ºè¾“å…¥å’Œè¯´æ˜æ–‡æœ¬ç”Ÿæˆå¤šå°‘æ¬¡ç¼–è¾‘
```

```markdown
temperature: number Optional Defaults: 1 
é€‰æ‹©0åˆ°2ä¹‹é—´çš„é‡‡æ ·æ¸©åº¦ã€‚è¾ƒé«˜çš„æ¸©åº¦ï¼ˆå¦‚0.8ï¼‰ä¼šä½¿ç»“æœæ›´éšæœºï¼Œè¾ƒä½çš„æ¸©åº¦ï¼ˆå¦‚0.2ï¼‰ä¼šä½¿ç»“æœæ›´é›†ä¸­å’Œç¡®å®šã€‚
```

<aside>
âš™ é€šå¸¸å»ºè®®æ›´æ”¹`temperature`æˆ–`top_p`ï¼Œä½†ä¸è¦åŒæ—¶æ›´æ”¹ä¸¤è€…ã€‚ä»¥ä¸‹æ˜¯å¯ç”¨çš„å‚æ•°

</aside>

```markdown
top_p: number Optional Defaults: 1
```

ä½¿ç”¨ç§°ä¸º nucleus sampling çš„æ›¿ä»£æ¸©åº¦é‡‡æ ·ï¼Œæ¨¡å‹ä¼šè€ƒè™‘å…·æœ‰ top_p æ¦‚ç‡è´¨é‡çš„tokençš„ç»“æœã€‚æ‰€ä»¥ 0.1 è¡¨ç¤ºä»…è€ƒè™‘ç»„æˆå‰ 10% æ¦‚ç‡è´¨é‡çš„ä»¤ç‰Œã€‚

### ç¤ºä¾‹è¯·æ±‚

### curl

```markdown
curl [https://api.openai.com/v1/edits](https://api.openai.com/v1/edits) \
-H "Content-Type: application/json" \
-H "Authorization: Bearer $OPENAI_API_KEY" \
-d '{
"model": "text-davinci-edit-001",
"input": "What day of the wek is it?",
"instruction": "Fix the spelling mistakes"
}'
```

### python

```python
import os
import openai
openai.api_key = os.getenv("OPENAI_API_KEY")
openai.Edit.create(
model="text-davinci-edit-001",
input="What day of the wek is it?",
instruction="Fix the spelling mistakes"
)
```

### node.js

```jsx
const { Configuration, OpenAIApi } = require("openai");
const configuration = new Configuration({
apiKey: process.env.OPENAI_API_KEY,
});
const openai = new OpenAIApi(configuration);
const response = await openai.createEdit({
model: "text-davinci-edit-001",
input: "What day of the wek is it?",
instruction: "Fix the spelling mistakes",
});
```

### ç¤ºä¾‹å“åº”

```json
{
"object": "edit",
"created": 1589478378,
"choices": [
{
"text": "What day of the week is it?",
"index": 0,
}
],
"usage": {
"prompt_tokens": 25,
"completion_tokens": 32,
"total_tokens": 57
}
}
```

# [å›¾åƒ](https://platform.openai.com/docs/api-reference/images)

æ¨¡å‹ä¼šæ ¹æ®æç¤ºå’Œ/æˆ–è¾“å…¥çš„å›¾ç‰‡ç”Ÿæˆä¸€å¼ æ–°çš„å›¾ç‰‡ã€‚

## åˆ›å»ºå›¾ç‰‡

```markdown
POST https://api.openai.com/v1/images/generations
```

### å‚æ•°

```markdown
prompt: string Required
æ‰€éœ€çš„å›¾åƒçš„æ–‡æœ¬æè¿°ã€‚æœ€å¤§é•¿åº¦ä¸º1000ä¸ªå­—ç¬¦ã€‚
```

```markdown
n: string Optional Defaults: 1
è¦ç”Ÿæˆçš„å›¾åƒæ•°é‡ã€‚
```

å¿…é¡»åœ¨1å’Œ10ä¹‹é—´ã€‚

```markdown
size: string Optional
ç”Ÿæˆçš„å›¾åƒçš„å°ºå¯¸ã€‚
```

å¿…é¡»ä¸º256x256ã€512x512æˆ–1024x1024ä¸­çš„ä¸€ä¸ªã€‚

```json
response_format: string Optional Defaults: url
ç”Ÿæˆçš„å›¾åƒè¿”å›çš„æ ¼å¼ã€‚
```

å¿…é¡»ä¸ºurlæˆ–b64_jsonä¸­çš„ä¸€ä¸ªã€‚

```
user: string Optional
è¡¨ç¤ºæ‚¨çš„æœ€ç»ˆç”¨æˆ·çš„å”¯ä¸€æ ‡è¯†ç¬¦ã€‚
```

å¯ä»¥å¸®åŠ© OpenAI ç›‘è§†å’Œæ£€æµ‹æ»¥ç”¨ã€‚

### ç¤ºä¾‹è¯·æ±‚

### curl

```markdown
curl https://api.openai.com/v1/images/generations \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer $OPENAI_API_KEY" \
  -d '{
    "prompt": "A cute baby sea otter",
    "n": 2,
    "size": "1024x1024"
  }'
```

### python

```python
import os
import openai
openai.api_key = os.getenv("OPENAI_API_KEY")
openai.Image.create(
  prompt="A cute baby sea otter",
  n=2,
  size="1024x1024"
)
```

### node.js

```jsx
const { Configuration, OpenAIApi } = require("openai");
const configuration = new Configuration({
  apiKey: process.env.OPENAI_API_KEY,
});
const openai = new OpenAIApi(configuration);
const response = await openai.createImage({
  prompt: "A cute baby sea otter",
  n: 2,
  size: "1024x1024",
});
```

### ç¤ºä¾‹å“åº”

```json
{
  "created": 1589478378,
  "data": [
    {
      "url": "https://..."
    },
    {
      "url": "https://..."
    }
  ]
}
```

## åˆ›å»ºå›¾åƒç¼–è¾‘

### å‚æ•°

```markdown
image: string Required
è¦ç¼–è¾‘çš„å›¾åƒã€‚
```

å¿…é¡»æ˜¯æœ‰æ•ˆçš„PNGæ–‡ä»¶ï¼Œå°äº4MBï¼Œä¸”ä¸ºæ­£æ–¹å½¢ã€‚å¦‚æœæœªæä¾›æ©ç ï¼Œåˆ™å›¾åƒå¿…é¡»å…·æœ‰é€æ˜åº¦ï¼Œè¯¥é€æ˜åº¦å°†ç”¨ä½œæ©ç ã€‚

```markdown
mask: string Optional
é™„åŠ çš„å›¾åƒï¼Œå®Œå…¨é€æ˜çš„åŒºåŸŸï¼ˆä¾‹å¦‚é€æ˜åº¦ä¸ºé›¶çš„åŒºåŸŸï¼‰æŒ‡ç¤ºåº”åœ¨å…¶ä¸­ç¼–è¾‘å›¾åƒã€‚
```

å¿…é¡»æ˜¯æœ‰æ•ˆçš„PNGæ–‡ä»¶ï¼Œå°äº4MBï¼Œå¹¶å…·æœ‰ä¸å›¾åƒç›¸åŒçš„å°ºå¯¸ã€‚

```markdown
prompt: string Required
æ‰€éœ€çš„å›¾åƒçš„æ–‡æœ¬æè¿°ã€‚æœ€å¤§é•¿åº¦ä¸º1000ä¸ªå­—ç¬¦ã€‚
```

```markdown
n: string Optional Defaults: 1
è¦ç”Ÿæˆçš„å›¾åƒæ•°é‡ã€‚
```

å¿…é¡»åœ¨1å’Œ10ä¹‹é—´ã€‚

```markdown
size: string Optional
ç”Ÿæˆçš„å›¾åƒçš„å°ºå¯¸ã€‚
```

å¿…é¡»ä¸º256x256ã€512x512æˆ–1024x1024ä¸­çš„ä¸€ä¸ªã€‚

```json
response_format: string Optional Defaults: url
ç”Ÿæˆçš„å›¾åƒè¿”å›çš„æ ¼å¼ã€‚
```

å¿…é¡»ä¸ºurlæˆ–b64_jsonä¸­çš„ä¸€ä¸ªã€‚

```
user: string Optional
è¡¨ç¤ºæ‚¨çš„æœ€ç»ˆç”¨æˆ·çš„å”¯ä¸€æ ‡è¯†ç¬¦ã€‚
```

å¯ä»¥å¸®åŠ© OpenAI ç›‘è§†å’Œæ£€æµ‹æ»¥ç”¨ã€‚

### ç¤ºä¾‹è¯·æ±‚

### curl

```markdown
curl https://api.openai.com/v1/images/edits \
  -H "Authorization: Bearer $OPENAI_API_KEY" \
  -F image="@otter.png" \
  -F mask="@mask.png" \
  -F prompt="A cute baby sea otter wearing a beret" \
  -F n=2 \
  -F size="1024x1024"
```

### python

```python
import os
import openai
openai.api_key = os.getenv("OPENAI_API_KEY")
openai.Image.create_edit(
  image=open("otter.png", "rb"),
  mask=open("mask.png", "rb"),
  prompt="A cute baby sea otter wearing a beret",
  n=2,
  size="1024x1024"
)
```

### node.js

```jsx
const { Configuration, OpenAIApi } = require("openai");
const configuration = new Configuration({
  apiKey: process.env.OPENAI_API_KEY,
});
const openai = new OpenAIApi(configuration);
const response = await openai.createImageEdit(
  fs.createReadStream("otter.png"),
  fs.createReadStream("mask.png"),
  "A cute baby sea otter wearing a beret",
  2,
  "1024x1024"
);
```

### ç¤ºä¾‹å“åº”

```json
{
  "created": 1589478378,
  "data": [
    {
      "url": "https://..."
    },
    {
      "url": "https://..."
    }
  ]
}
```

## åˆ›å»ºå›¾åƒå˜ç§

### å‚æ•°

```markdown
image: string Required
è¦ç¼–è¾‘çš„å›¾åƒã€‚
```

å¿…é¡»æ˜¯æœ‰æ•ˆçš„PNGæ–‡ä»¶ï¼Œå°äº4MBï¼Œä¸”ä¸ºæ­£æ–¹å½¢ã€‚å¦‚æœæœªæä¾›æ©ç ï¼Œåˆ™å›¾åƒå¿…é¡»å…·æœ‰é€æ˜åº¦ï¼Œè¯¥é€æ˜åº¦å°†ç”¨ä½œæ©ç ã€‚

```markdown
prompt: string Required
æ‰€éœ€çš„å›¾åƒçš„æ–‡æœ¬æè¿°ã€‚æœ€å¤§é•¿åº¦ä¸º1000ä¸ªå­—ç¬¦ã€‚
```

```markdown
n: string Optional Defaults: 1
è¦ç”Ÿæˆçš„å›¾åƒæ•°é‡ã€‚
```

å¿…é¡»åœ¨1å’Œ10ä¹‹é—´ã€‚

```markdown
size: string Optional
ç”Ÿæˆçš„å›¾åƒçš„å°ºå¯¸ã€‚
```

å¿…é¡»ä¸º256x256ã€512x512æˆ–1024x1024ä¸­çš„ä¸€ä¸ªã€‚

```json
response_format: string Optional Defaults: url
ç”Ÿæˆçš„å›¾åƒè¿”å›çš„æ ¼å¼ã€‚
```

å¿…é¡»ä¸ºurlæˆ–b64_jsonä¸­çš„ä¸€ä¸ªã€‚

```
user: string Optional
è¡¨ç¤ºæ‚¨çš„æœ€ç»ˆç”¨æˆ·çš„å”¯ä¸€æ ‡è¯†ç¬¦ã€‚
```

å¯ä»¥å¸®åŠ© OpenAI ç›‘è§†å’Œæ£€æµ‹æ»¥ç”¨ã€‚

### ç¤ºä¾‹è¯·æ±‚

### curl

```markdown
curl https://api.openai.com/v1/images/variations \
  -H "Authorization: Bearer $OPENAI_API_KEY" \
  -F image="@otter.png" \
  -F n=2 \
  -F size="1024x1024"
```

### python

```python
import os
import openai
openai.api_key = os.getenv("OPENAI_API_KEY")
openai.Image.create_variation(
  image=open("otter.png", "rb"),
  n=2,
  size="1024x1024"
)
```

### node.js

```jsx
const { Configuration, OpenAIApi } = require("openai");
const configuration = new Configuration({
  apiKey: process.env.OPENAI_API_KEY,
});
const openai = new OpenAIApi(configuration);
const response = await openai.createImageVariation(
  fs.createReadStream("otter.png"),
  2,
  "1024x1024"
);
```

### ç¤ºä¾‹å“åº”

```json
{
  "created": 1589478378,
  "data": [
    {
      "url": "https://..."
    },
    {
      "url": "https://..."
    }
  ]
}
```

# [åµŒå…¥](https://platform.openai.com/docs/api-reference/embeddings)

è·å–ç»™å®šè¾“å…¥çš„å‘é‡è¡¨ç¤ºï¼Œå¯è½»æ¾åœ°è¢«æœºå™¨å­¦ä¹ æ¨¡å‹å’Œç®—æ³•ä½¿ç”¨ã€‚

## åˆ›å»ºåµŒå…¥

```markdown
POST https://api.openai.com/v1/embeddings
```

### å‚æ•°

```markdown
model: string Required
è¦ä½¿ç”¨çš„æ¨¡å‹ID
```

```markdown
input: string | array Required
è¦åµŒå…¥çš„è¾“å…¥æ–‡æœ¬ï¼Œç¼–ç ä¸ºå­—ç¬¦ä¸²æˆ–tokensæ•°ç»„ã€‚
```

ä¸ºåœ¨å•ä¸ªè¯·æ±‚ä¸­åµŒå…¥å¤šä¸ªè¾“å…¥ï¼Œéœ€ä¼ é€’å­—ç¬¦ä¸²æˆ–tokenæ•°ç»„çš„æ•°ç»„ï¼ˆan array of strings or array of token arrays.ï¼‰ã€‚æ¯ä¸ªè¾“å…¥çš„tokenæ•°ä¸èƒ½è¶…è¿‡æ¨¡å‹çš„æœ€å¤§tokenä»¤ç‰Œæ•°ï¼ˆtext-embedding-ada-002çš„æœ€å¤§è¾“å…¥tokenæ•°ä¸º8191ä¸ªï¼‰ã€‚

```
user: string Optional
è¡¨ç¤ºæ‚¨çš„æœ€ç»ˆç”¨æˆ·çš„å”¯ä¸€æ ‡è¯†ç¬¦ã€‚
```

å¯ä»¥å¸®åŠ© OpenAI ç›‘è§†å’Œæ£€æµ‹æ»¥ç”¨ã€‚

### ç¤ºä¾‹è¯·æ±‚

### curl

```markdown
curl https://api.openai.com/v1/embeddings \
  -H "Authorization: Bearer $OPENAI_API_KEY" \
  -H "Content-Type: application/json" \
  -d '{
    "input": "The food was delicious and the waiter...",
    "model": "text-embedding-ada-002"
  }'
```

### python

```python
import os
import openai
openai.api_key = os.getenv("OPENAI_API_KEY")
openai.Embedding.create(
  model="text-embedding-ada-002",
  input="The food was delicious and the waiter..."
)
```

### node.js

```jsx
const { Configuration, OpenAIApi } = require("openai");
const configuration = new Configuration({
  apiKey: process.env.OPENAI_API_KEY,
});
const openai = new OpenAIApi(configuration);
const response = await openai.createEmbedding({
  model: "text-embedding-ada-002",
  input: "The food was delicious and the waiter...",
});
```

### ç¤ºä¾‹å“åº”

```json
{
  "object": "list",
  "data": [
    {
      "object": "embedding",
      "embedding": [
        0.0023064255,
        -0.009327292,
        .... (1536 floats total for ada-002)
        -0.0028842222,
      ],
      "index": 0
    }
  ],
  "model": "text-embedding-ada-002",
  "usage": {
    "prompt_tokens": 8,
    "total_tokens": 8
  }
}
```

# [éŸ³é¢‘](https://platform.openai.com/docs/api-reference/audio)

å°†éŸ³é¢‘è½¬æ¢ä¸ºæ–‡æœ¬ã€‚

## åˆ›å»ºè½¬å½•

```markdown
POST https://api.openai.com/v1/audio/transcriptions
```

### å‚æ•°

```markdown
file: file Required
éœ€è¦è½¬å½•çš„éŸ³é¢‘æ–‡ä»¶å¯¹è±¡ï¼ˆä¸æ˜¯æ–‡ä»¶åï¼‰ã€‚
```

æ”¯æŒä»¥ä¸‹æ ¼å¼ä¹‹ä¸€ï¼šmp3ã€mp4ã€mpegã€mpgaã€m4aã€wav æˆ– webmã€‚

<aside>
âš ï¸ .m4a ä»¥åœ¨æ–‡ä»¶ç»“å°¾å¤„ï¼ˆè€Œéå¼€å¤´ï¼‰æ”¾ç½®moovåŸå­è€Œå£°åç‹¼è—‰ã€‚è¯·éªŒè¯æ‚¨çš„æ–‡ä»¶æ˜¯å¦ç¬¦åˆæ­¤æƒ…å†µã€‚
éƒ¨åˆ†.m4aæ–‡ä»¶å¯èƒ½ä¸è¢«æ”¯æŒ/æ­£ç¡®è¯†åˆ«

</aside>

```markdown
model: string Required
è¦ä½¿ç”¨çš„æ¨¡å‹ID
```

```markdown
prompt: string Optional
è¿™æ˜¯ä¸€ä¸ªå¯é€‰æ–‡æœ¬ï¼Œå¯ä»¥å¼•å¯¼æ¨¡å‹çš„é£æ ¼æˆ–ç»§ç»­ä¸Šä¸€ä¸ªéŸ³é¢‘ç‰‡æ®µã€‚
```

è¿™ä¸ªæç¤ºåº”è¯¥åŒ¹é…éŸ³é¢‘çš„è¯­è¨€ã€‚

```
response_format: string Optional Defaults: json
ç”Ÿæˆçš„éŸ³é¢‘è¿”å›çš„æ ¼å¼ã€‚
```

è½¬å½•è¾“å‡ºçš„æ ¼å¼å¯é€‰é¡¹åŒ…æ‹¬ï¼šjsonã€textã€srtã€verbose_jsonã€vttã€‚

```markdown
temperature: number Optional Defaults: 1 
é€‰æ‹©0åˆ°2ä¹‹é—´çš„é‡‡æ ·æ¸©åº¦ã€‚
```

è¾ƒé«˜çš„æ¸©åº¦ï¼ˆå¦‚0.8ï¼‰ä¼šä½¿ç»“æœæ›´éšæœºï¼Œè¾ƒä½çš„æ¸©åº¦ï¼ˆå¦‚0.2ï¼‰ä¼šä½¿ç»“æœæ›´é›†ä¸­å’Œç¡®å®šã€‚

```markdown
language: string Optional
è¾“å…¥éŸ³é¢‘çš„è¯­è¨€ã€‚
```

ä½¿ç”¨ [ISO-639-1](https://en.wikipedia.org/wiki/List_of_ISO_639-1_codes) æ ¼å¼æŒ‡å®šè¾“å…¥è¯­è¨€å°†æé«˜è½¬å½•çš„å‡†ç¡®ç‡å’Œå“åº”æ—¶é—´ã€‚

### ç¤ºä¾‹è¯·æ±‚

### curl

```markdown
curl https://api.openai.com/v1/audio/transcriptions \
  -H "Authorization: Bearer $OPENAI_API_KEY" \
  -H "Content-Type: multipart/form-data" \
  -F file="@/path/to/file/audio.mp3" \
  -F model="whisper-1"
```

### python

```python
import os
import openai
openai.api_key = os.getenv("OPENAI_API_KEY")
audio_file = open("audio.mp3", "rb")
transcript = openai.Audio.transcribe("whisper-1", audio_file
```

### node.js

```jsx
const { Configuration, OpenAIApi } = require("openai");
const configuration = new Configuration({
  apiKey: process.env.OPENAI_API_KEY,
});
const openai = new OpenAIApi(configuration);
const resp = await openai.createTranscription(
  fs.createReadStream("audio.mp3"),
  "whisper-1"
);
```

### ç¤ºä¾‹å“åº”

```json
{
  "text": "Imagine the wildest idea that you've ever had, and you're curious about how it might scale to something that's a 100, a 1,000 times bigger. This is a place where you can get to do that."
}
```

## åˆ›å»ºç¿»è¯‘

<aside>
âš ï¸ ä»…æ”¯æŒç¿»è¯‘ä¸ºè‹±æ–‡ï¼Œä¸”ä¸­æ–‡è½¬è‹±æ–‡ä¸å¯ç”¨ã€‚ï¼ˆ2023.06.13ï¼‰

</aside>

```markdown
POST https://api.openai.com/v1/audio/translations
```

### å‚æ•°

```markdown
file: file Required
éœ€è¦è½¬å½•çš„éŸ³é¢‘æ–‡ä»¶å¯¹è±¡ï¼ˆä¸æ˜¯æ–‡ä»¶åï¼‰ã€‚
```

æ”¯æŒä»¥ä¸‹æ ¼å¼ä¹‹ä¸€ï¼šmp3ã€mp4ã€mpegã€mpgaã€m4aã€wav æˆ– webmã€‚

<aside>
âš ï¸ .m4a ä»¥åœ¨æ–‡ä»¶ç»“å°¾å¤„ï¼ˆè€Œéå¼€å¤´ï¼‰æ”¾ç½®moovåŸå­è€Œå£°åç‹¼è—‰ã€‚è¯·éªŒè¯æ‚¨çš„æ–‡ä»¶æ˜¯å¦ç¬¦åˆæ­¤æƒ…å†µã€‚
éƒ¨åˆ†.m4aæ–‡ä»¶å¯èƒ½ä¸è¢«æ”¯æŒ/æ­£ç¡®è¯†åˆ«

</aside>

```markdown
model: string Required
è¦ä½¿ç”¨çš„æ¨¡å‹ID
```

```markdown
prompt: string Optional
è¿™æ˜¯ä¸€ä¸ªå¯é€‰æ–‡æœ¬ï¼Œå¯ä»¥å¼•å¯¼æ¨¡å‹çš„é£æ ¼æˆ–ç»§ç»­ä¸Šä¸€ä¸ªéŸ³é¢‘ç‰‡æ®µã€‚
```

è¿™ä¸ªæç¤ºåº”è¯¥åŒ¹é…éŸ³é¢‘çš„è¯­è¨€ã€‚

```
response_format: string Optional Defaults: json
ç”Ÿæˆçš„éŸ³é¢‘è¿”å›çš„æ ¼å¼ã€‚
```

è½¬å½•è¾“å‡ºçš„æ ¼å¼å¯é€‰é¡¹åŒ…æ‹¬ï¼šjsonã€textã€srtã€verbose_jsonã€vttã€‚

```markdown
temperature: number Optional Defaults: 1 
é€‰æ‹©0åˆ°2ä¹‹é—´çš„é‡‡æ ·æ¸©åº¦ã€‚
```

è¾ƒé«˜çš„æ¸©åº¦ï¼ˆå¦‚0.8ï¼‰ä¼šä½¿ç»“æœæ›´éšæœºï¼Œè¾ƒä½çš„æ¸©åº¦ï¼ˆå¦‚0.2ï¼‰ä¼šä½¿ç»“æœæ›´é›†ä¸­å’Œç¡®å®šã€‚

<aside>
âš ï¸ language: string Optional
è¾“å…¥éŸ³é¢‘çš„è¯­è¨€ã€‚
ç›®å‰ç‰ˆæœ¬ä¸æ”¯æŒè¯¥å‚æ•°ï¼ˆ2023.06.13ï¼‰

</aside>

### ç¤ºä¾‹è¯·æ±‚

### curl

```markdown
curl https://api.openai.com/v1/audio/translations \
  -H "Authorization: Bearer $OPENAI_API_KEY" \
  -H "Content-Type: multipart/form-data" \
  -F file="@/path/to/file/german.m4a" \
  -F model="whisper-1"
```

### python

```python
const { Configuration, OpenAIApi } = require("openai");
const configuration = new Configuration({
  apiKey: process.env.OPENAI_API_KEY,
});
const openai = new OpenAIApi(configuration);
const resp = await openai.createTranslation(
  fs.createReadStream("audio.mp3"),
  "whisper-1"
);
```

### node.js

```jsx
const { Configuration, OpenAIApi } = require("openai");
const configuration = new Configuration({
  apiKey: process.env.OPENAI_API_KEY,
});
const openai = new OpenAIApi(configuration);
const resp = await openai.createTranslation(
  fs.createReadStream("audio.mp3"),
  "whisper-1"
);
```

### ç¤ºä¾‹å“åº”

```json
{
  "text": "Hello, my name is Wolfgang and I come from Germany. Where are you heading today?"
}
```

# [æ–‡ä»¶](https://platform.openai.com/docs/api-reference/files)

æ–‡ä»¶ç”¨äºä¸Šä¼ æ–‡æ¡£ï¼Œå¯ä¸ [å¾®è°ƒ](%E5%BE%AE%E8%B0%83%201e63ab4b20b14f5fbf01c29815bd39a4.md) ç­‰åŠŸèƒ½ä¸€èµ·ä½¿ç”¨ã€‚

## åˆ—å‡ºæ–‡ä»¶

```markdown
GET https://api.openai.com/v1/files
```

### å‚æ•°

### ç¤ºä¾‹è¯·æ±‚

### curl

```markdown
curl https://api.openai.com/v1/files \
  -H "Authorization: Bearer $OPENAI_API_KEY"
```

### python

```python
import os
import openai
openai.api_key = os.getenv("OPENAI_API_KEY")
openai.File.list()
```

### node.js

```jsx
const { Configuration, OpenAIApi } = require("openai");
const configuration = new Configuration({
  apiKey: process.env.OPENAI_API_KEY,
});
const openai = new OpenAIApi(configuration);
const response = await openai.listFiles();
```

### ç¤ºä¾‹å“åº”

```json
{
  "data": [
    {
      "id": "file-ccdDZrC3iZVNiQVeEA6Z66wf",
      "object": "file",
      "bytes": 175,
      "created_at": 1613677385,
      "filename": "train.jsonl",
      "purpose": "search"
    },
    {
      "id": "file-XjGxS3KTG0uNmNOK362iJua3",
      "object": "file",
      "bytes": 140,
      "created_at": 1613779121,
      "filename": "puppy.jsonl",
      "purpose": "search"
    }
  ],
  "object": "list"
}
```

## ä¸Šä¼ æ–‡ä»¶

ä¸Šä¼ åŒ…å«è¦åœ¨å„ç§ç«¯ç‚¹/åŠŸèƒ½ä¹‹é—´ä½¿ç”¨çš„æ–‡æ¡£çš„æ–‡ä»¶ã€‚

å½“å‰ï¼ˆ2023-06-13ï¼‰ï¼Œä¸€ä¸ªç»„ç»‡ä¸Šä¼ çš„æ‰€æœ‰æ–‡ä»¶çš„å¤§å°æœ€å¤šå¯ä»¥è¾¾åˆ° 1 GBã€‚

```markdown
POST https://api.openai.com/v1/files
```

### å‚æ•°

<aside>
âš ï¸ è¯·ä½¿ç”¨[JSON Lines](JSON%20Lines%206a01e35bf82b467eb3246d9d888e767d.md) æ–‡ä»¶

</aside>

```json
file: string Required
è¦ä¸Šä¼ çš„ JSON Lines æ–‡ä»¶çš„åç§°ã€‚
```

å¦‚æœç›®çš„è®¾ç½®ä¸ºâ€œFine-tuningâ€ï¼Œåˆ™æ¯ä¸€è¡Œæ˜¯ä¸€ä¸ª JSON è®°å½•ï¼Œå…¶ä¸­åŒ…å«â€œpromptâ€å’Œâ€œcompletionâ€å­—æ®µï¼Œè¡¨ç¤ºæ‚¨çš„è®­ç»ƒç¤ºä¾‹ã€‚

```json
purpose: string Required
ä¸Šä¼ æ–‡æ¡£çš„é¢„æœŸç›®çš„ã€‚
```

ä½¿ç”¨â€œFine-tuneâ€ä½œä¸ºä¼ å…¥å‚æ•°è¿›è¡Œå¾®è°ƒã€‚OpenAIå°†èƒ½éªŒè¯ä¸Šä¼ æ–‡ä»¶çš„æ ¼å¼ã€‚

### ç¤ºä¾‹è¯·æ±‚

### curl

```markdown
curl https://api.openai.com/v1/files \
  -H "Authorization: Bearer $OPENAI_API_KEY" \
  -F purpose="fine-tune" \
  -F file="@mydata.jsonl"
```

### python

```python
import os
import openai
openai.api_key = os.getenv("OPENAI_API_KEY")
openai.File.create(
  file=open("mydata.jsonl", "rb"),
  purpose='fine-tune'
)
```

### node.js

```jsx
const fs = require("fs");
const { Configuration, OpenAIApi } = require("openai");
const configuration = new Configuration({
  apiKey: process.env.OPENAI_API_KEY,
});
const openai = new OpenAIApi(configuration);
const response = await openai.createFile(
  fs.createReadStream("mydata.jsonl"),
  "fine-tune"
);
```

### ç¤ºä¾‹å“åº”

```json
{
  "data": [
    {
      "id": "file-ccdDZrC3iZVNiQVeEA6Z66wf",
      "object": "file",
      "bytes": 175,
      "created_at": 1613677385,
      "filename": "train.jsonl",
      "purpose": "search"
    },
    {
      "id": "file-XjGxS3KTG0uNmNOK362iJua3",
      "object": "file",
      "bytes": 140,
      "created_at": 1613779121,
      "filename": "puppy.jsonl",
      "purpose": "search"
    }
  ],
  "object": "list"
}
```

## åˆ é™¤æ–‡ä»¶

```markdown
DELETE https://api.openai.com/v1/files/{file_id}
```

### å‚æ•°

```json
file_id: string Required
ç”¨äºæ­¤è¯·æ±‚çš„æ–‡ä»¶ IDã€‚
```

### ç¤ºä¾‹è¯·æ±‚

### curl

```markdown
curl https://api.openai.com/v1/files/file-XjGxS3KTG0uNmNOK362iJua3 \
  -X DELETE \
  -H "Authorization: Bearer $OPENAI_API_KEY"
```

### python

```python
import os
import openai
openai.api_key = os.getenv("OPENAI_API_KEY")
openai.File.delete("file-XjGxS3KTG0uNmNOK362iJua3")
```

### node.js

```jsx
const { Configuration, OpenAIApi } = require("openai");
const configuration = new Configuration({
  apiKey: process.env.OPENAI_API_KEY,
});
const openai = new OpenAIApi(configuration);
const response = await openai.deleteFile("file-XjGxS3KTG0uNmNOK362iJua3");
```

### ç¤ºä¾‹å“åº”

```json
{
  "id": "file-XjGxS3KTG0uNmNOK362iJua3",
  "object": "file",
  "deleted": true
}
```

## æ£€ç´¢æ–‡ä»¶

```markdown
GET https://api.openai.com/v1/files/{file_id}
```

### å‚æ•°

```json
file_id: string Required
ç”¨äºæ­¤è¯·æ±‚çš„æ–‡ä»¶ IDã€‚
```

### ç¤ºä¾‹è¯·æ±‚

### curl

```markdown
curl https://api.openai.com/v1/files/file-XjGxS3KTG0uNmNOK362iJua3 \
  -H "Authorization: Bearer $OPENAI_API_KEY"
```

### python

```python
import os
import openai
openai.api_key = os.getenv("OPENAI_API_KEY")
openai.File.retrieve("file-XjGxS3KTG0uNmNOK362iJua3")
```

### node.js

```jsx
const { Configuration, OpenAIApi } = require("openai");
const configuration = new Configuration({
  apiKey: process.env.OPENAI_API_KEY,
});
const openai = new OpenAIApi(configuration);
const response = await openai.retrieveFile("file-XjGxS3KTG0uNmNOK362iJua3");
```

### ç¤ºä¾‹å“åº”

```json
{
  "id": "file-XjGxS3KTG0uNmNOK362iJua3",
  "object": "file",
  "bytes": 140,
  "created_at": 1613779657,
  "filename": "mydata.jsonl",
  "purpose": "fine-tune"
}
```

## æ£€ç´¢æ–‡ä»¶å†…å®¹

```markdown
GET https://api.openai.com/v1/files/{file_id}/content
```

### å‚æ•°

```json
file_id: string Required
ç”¨äºæ­¤è¯·æ±‚çš„æ–‡ä»¶ IDã€‚
```

### ç¤ºä¾‹è¯·æ±‚

### curl

```markdown
curl https://api.openai.com/v1/files/file-XjGxS3KTG0uNmNOK362iJua3/content \
  -H "Authorization: Bearer $OPENAI_API_KEY" > file.jsonl
```

### python

```python
import os
import openai
openai.api_key = os.getenv("OPENAI_API_KEY")
content = openai.File.download("file-XjGxS3KTG0uNmNOK362iJua3")
```

### node.js

```jsx
const { Configuration, OpenAIApi } = require("openai");
const configuration = new Configuration({
  apiKey: process.env.OPENAI_API_KEY,
});
const openai = new OpenAIApi(configuration);
const response = await openai.downloadFile("file-XjGxS3KTG0uNmNOK362iJua3");
```

### ç¤ºä¾‹å“åº”

# [å¾®è°ƒ](https://platform.openai.com/docs/api-reference/fine-tunes)

ç®¡ç†å¾®è°ƒä½œä¸šä»¥é’ˆå¯¹ç‰¹å®šçš„è®­ç»ƒæ•°æ®ä¼˜åŒ–æ¨¡å‹æ˜¯æœºå™¨å­¦ä¹ ä¸­çš„ä¸€ç§å¼ºå¤§æŠ€æœ¯ã€‚

<aside>
âš ï¸ å¾®è°ƒç›¸å…³çš„åè¯å·²åœ¨[å¾®è°ƒ](../OpenAI%E7%9A%84API%E7%9B%B8%E5%85%B3%E5%8F%82%E8%80%83%E8%B5%84%E6%96%99%2050383492c7174b7d9cfb40aa2103aca4.md)æ–‡æ¡£ä¸­åšå‡ºåŸºæœ¬è§£é‡Šï¼Œæ•…æ­¤å¤„ä¸å†èµ˜è¿°ã€‚

</aside>

## åˆ›å»ºå¾®è°ƒ

è¯¥æ“ä½œåˆ›å»ºä¸€ä¸ªä½œä¸šï¼Œä»ç»™å®šçš„æ•°æ®é›†ä¸­å¾®è°ƒæŒ‡å®šçš„æ¨¡å‹ã€‚

å“åº”åŒ…æ‹¬æ‰€æ’é˜Ÿçš„ä½œä¸šçš„è¯¦ç»†ä¿¡æ¯ï¼ŒåŒ…æ‹¬ä½œä¸šçŠ¶æ€å’Œå®Œæˆåå¾®è°ƒæ¨¡å‹çš„åç§°ã€‚

è¯¦è§[å¾®è°ƒ](%E5%BE%AE%E8%B0%83%201e63ab4b20b14f5fbf01c29815bd39a4.md)

```markdown
POST https://api.openai.com/v1/fine-tunes
```

### å‚æ•°

```markdown
training_file: string Required
åŒ…å«è®­ç»ƒæ•°æ®çš„å·²ä¸Šä¼ æ–‡ä»¶çš„IDã€‚
```

æ‚¨çš„æ•°æ®é›†å¿…é¡»ä»¥JSONLæ–‡ä»¶çš„æ ¼å¼è¿›è¡Œæ ¼å¼åŒ–ï¼Œæ¯ä¸ªè®­ç»ƒç¤ºä¾‹éƒ½æ˜¯ä¸€ä¸ªJSONå¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«é”®â€œpromptâ€å’Œâ€œcompletionâ€ã€‚

æ­¤å¤–ï¼Œæ‚¨å¿…é¡»ä¸Šä¼ ä¸ç›®çš„å¾®è°ƒç›¸å¯¹åº”çš„æ–‡ä»¶ï¼ˆpurpose == â€fine-tuneâ€ï¼‰ã€‚

```markdown
validation_file: string Optional
åŒ…å«éªŒè¯æ•°æ®çš„å·²ä¸Šä¼ æ–‡ä»¶çš„IDã€‚
```

åœ¨å¾®è°ƒæœŸé—´ï¼Œè¯·å®šæœŸä½¿ç”¨æ•°æ®ç”ŸæˆéªŒè¯æŒ‡æ ‡ï¼Œä»¥ç¡®ä¿æ‚¨æä¾›çš„æ–‡ä»¶æ­£ç¡®ã€‚

è¿™äº›æŒ‡æ ‡å¯ä»¥åœ¨å¾®è°ƒç»“æœæ–‡ä»¶ä¸­æŸ¥çœ‹ã€‚

æ‚¨çš„æ•°æ®é›†å¿…é¡»ä»¥JSONLæ ¼å¼è¿›è¡Œæ ¼å¼åŒ–ï¼Œæ¯ä¸ªéªŒè¯ç¤ºä¾‹éƒ½æ˜¯ä¸€ä¸ªJSONå¯¹è±¡ï¼Œå…¶ä¸­åŒ…å«é”®â€œpromptâ€å’Œâ€œcompletionâ€ã€‚æ­¤å¤–ï¼Œæ‚¨éœ€è¦ä¸Šä¼ ä¸€ä¸ªå¸¦æœ‰fine-tuneç›®çš„çš„æ–‡ä»¶ã€‚

<aside>
âš ï¸ ä¸ºäº†ç¡®ä¿æœ‰æ•ˆæ€§ï¼Œæ‚¨çš„è®­ç»ƒå’ŒéªŒè¯æ•°æ®åº”è¯¥æ˜¯äº’æ–¥çš„ã€‚

</aside>

```markdown
model: string Optional Defaults: curie
å¾®è°ƒçš„åŸºç¡€æ¨¡å‹çš„åç§°ã€‚
```

é€‰æ‹©å…¶ä¸­ä¹‹ä¸€ï¼š"ada"ï¼Œ"babbage"ï¼Œ"curie"ï¼Œ"davinci"æˆ–åœ¨2022-04-21ä¹‹ååˆ›å»ºçš„å¾®è°ƒæ¨¡å‹ã€‚å‚è€ƒ[æ¨¡å‹](%E6%A8%A1%E5%9E%8B%20d5054199951a46c8b18dbd2073c3fa78.md)æ–‡æ¡£ä»¥åŠå…¶ä¸­[å¾®è°ƒ](%E5%BE%AE%E8%B0%83%201e63ab4b20b14f5fbf01c29815bd39a4.md)å…³äºç»§ç»­å¾®è°ƒâ€œå·²å¾®è°ƒâ€æ¨¡å‹çš„ç›¸å…³éƒ¨åˆ†

```markdown
n_epochs: integer Optional Defaults: 4
è®­ç»ƒæ¨¡å‹çš„æ—¶æœŸæ•°ã€‚
```

ä¸€ä¸ªæ—¶æœŸæŒ‡çš„æ˜¯å®Œæ•´åœ°åœ¨è®­ç»ƒæ•°æ®é›†ä¸Šè¿›è¡Œä¸€æ¬¡å¾ªç¯ã€‚

```markdown
batch_size: integer Optional Defaults: null
è®­ç»ƒæ—¶ä½¿ç”¨çš„æ‰¹å¤„ç†å¤§å°ã€‚
```

æ‰¹å¤„ç†å¤§å°æ˜¯ç”¨äºè®­ç»ƒå•ä¸ªå‰å‘å’Œåå‘ä¼ é€’çš„è®­ç»ƒç¤ºä¾‹æ•°é‡ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼Œæ‰¹å¤„ç†å¤§å°å°†åŠ¨æ€é…ç½®ä¸ºè®­ç»ƒé›†ä¸­ç¤ºä¾‹æ•°é‡çš„çº¦0.2ï¼…ï¼Œå¹¶é™åˆ¶ä¸º256ä¸ª - é€šå¸¸ï¼Œæˆ‘ä»¬å‘ç°æ›´å¤§çš„æ‰¹æ¬¡å¤§å°å¯¹äºè¾ƒå¤§çš„æ•°æ®é›†æ•ˆæœæ›´å¥½ã€‚

```markdown
learning_rate_multiplier: number Optional Defaults: null
ç”¨äºè®­ç»ƒçš„å­¦ä¹ ç‡ä¹˜æ•°ã€‚
```

å¾®è°ƒå­¦ä¹ ç‡æ˜¯åŸå§‹é¢„è®­ç»ƒå­¦ä¹ ç‡ä¹˜ä»¥æ­¤å€¼ã€‚

é»˜è®¤æƒ…å†µä¸‹ï¼Œå­¦ä¹ ç‡ä¹˜æ•°æ˜¯0.05ã€0.1æˆ–0.2ï¼Œå–å†³äºæœ€ç»ˆçš„æ‰¹å¤„ç†å¤§å°ï¼ˆè¾ƒå¤§çš„æ‰¹å¤„ç†å¤§å°é€šå¸¸ä½¿ç”¨è¾ƒå¤§çš„å­¦ä¹ ç‡ï¼‰ã€‚å°è¯•ä½¿ç”¨0.02åˆ°0.2èŒƒå›´å†…çš„å€¼ï¼Œä»¥æŸ¥çœ‹å“ªäº›å€¼èƒ½å¤Ÿäº§ç”Ÿæœ€å¥½çš„ç»“æœã€‚

```markdown
prompt_loss_weight: number Optional Defaults: 0.01
ç”¨äºæŸå¤±è®¡ç®—çš„æç¤ºæ ‡è®°çš„æƒé‡ã€‚
```

è¿™æ§åˆ¶ç€æ¨¡å‹å°è¯•å­¦ä¹ ç”Ÿæˆæç¤ºçš„ç¨‹åº¦ï¼ˆç›¸å¯¹äºå®Œæˆéƒ¨åˆ†è€Œè¨€ï¼Œå®Œæˆéƒ¨åˆ†å§‹ç»ˆå…·æœ‰1.0çš„æƒé‡ï¼‰ï¼Œå¹¶ä¸”å¯ä»¥åœ¨å®Œæˆéƒ¨åˆ†è¾ƒçŸ­æ—¶ä¸ºè®­ç»ƒæ·»åŠ ç¨³å®šä½œç”¨ã€‚

å¦‚æœæç¤ºéå¸¸é•¿ï¼ˆç›¸å¯¹äºå®Œæˆéƒ¨åˆ†è€Œè¨€ï¼‰ï¼Œé‚£ä¹ˆå°†è¿™ä¸ªæƒé‡é™ä½å¯èƒ½æœ‰åŠ©äºé¿å…è¿‡åº¦ä¼˜å…ˆè€ƒè™‘å­¦ä¹ æç¤º/è¿‡åˆ†å¼ºè°ƒç†è§£ä»»åŠ¡è¦æ±‚ã€‚

<aside>
âš ï¸ è¿‡åˆ†å¼ºè°ƒç†è§£ä»»åŠ¡è¦æ±‚ï¼ˆpromptï¼‰æ„å‘³ç€èŠ±è´¹è¿‡å¤šçš„æ—¶é—´å’Œç²¾åŠ›æ¥å°è¯•ç†è§£å’Œè§£é‡Šä»»åŠ¡æˆ–ä½œä¸šçš„è¦æ±‚å’ŒæŒ‡å¯¼ã€‚è™½ç„¶ç†è§£ä»»åŠ¡è¦æ±‚çš„è¦æ±‚å’ŒæœŸæœ›å¾ˆé‡è¦ï¼Œä½†è¿‡åº¦ä¸“æ³¨äºå®ƒå¯èƒ½ä¼šå‰Šå¼±ä»»åŠ¡æˆ–ä½œä¸šçš„å®é™…æ•ˆæœï¼Œæœ€ç»ˆä½œå“å¯èƒ½ä¼šå¤±å»åˆ›é€ åŠ›å’ŒåŸåˆ›æ€§ã€‚

</aside>

```markdown
compute_classification_metrics: boolean Optional Defaults: false
```

æŒ‡å®šæ­¤å‚æ•°åï¼Œåœ¨æ¯ä¸ªepochç»“æŸæ—¶ï¼Œæˆ‘ä»¬å°†ä½¿ç”¨éªŒè¯é›†è®¡ç®—ç‰¹å®šäºåˆ†ç±»çš„åº¦é‡æŒ‡æ ‡ï¼Œä¾‹å¦‚å‡†ç¡®åº¦å’ŒF1å€¼ï¼Œå¹¶å°†è¿™äº›æŒ‡æ ‡è®°å½•åœ¨ç»“æœæ–‡ä»¶ä¸­ã€‚

è¦è®¡ç®—åˆ†ç±»æŒ‡æ ‡ï¼Œæ‚¨éœ€è¦æä¾›ä¸€ä¸ªéªŒè¯æ–‡ä»¶ï¼ŒåŒæ—¶æŒ‡å®šå¤šç±»åˆ†ç±»çš„åˆ†ç±»n_classesæˆ–äºŒå…ƒåˆ†ç±»çš„classification_positive_classã€‚

```markdown
classification_n_classes: integer Optional Defaults: null
åˆ†ç±»ä»»åŠ¡ä¸­çš„ç±»åˆ«æ•°ã€‚
```

åœ¨å¤šç±»åˆ«åˆ†ç±»ä»»åŠ¡ä¸­ï¼Œè¯¥å‚æ•°æ˜¯å¿…éœ€çš„ã€‚

```markdown
classification_positive_class: string Optional Defaults: null
äºŒå…ƒåˆ†ç±»ä¸­çš„æ­£ç±»ã€‚
```

åœ¨è¿›è¡ŒäºŒåˆ†ç±»ä»»åŠ¡æ—¶ï¼Œéœ€è¦æ­¤å‚æ•°æ¥ç”Ÿæˆç²¾å‡†ç‡ã€å¬å›ç‡å’ŒF1æŒ‡æ ‡ã€‚

```markdown
classificationâ€”â€”betas: array Optional Defaults: null
æ­¤å‚æ•°ä»…é€‚ç”¨äºäºŒåˆ†ç±»ã€‚
```

ä½¿ç”¨æ­¤å‚æ•°ï¼Œå¯ä»¥è®¡ç®—æŒ‡å®šbetaå€¼ä¸‹çš„F-betaæŒ‡æ ‡ã€‚F-betaæŒ‡æ ‡æ˜¯F-1æŒ‡æ ‡çš„ä¸€èˆ¬åŒ–ã€‚betaä¸º1ï¼ˆå³F-1æŒ‡æ ‡ï¼‰æ—¶ï¼Œç²¾å‡†ç‡å’Œå¬å›ç‡è¢«èµ‹äºˆç›¸åŒçš„æƒé‡ã€‚è¾ƒå¤§çš„betaå€¼ä¾§é‡äºå¬å›ç‡è€Œä¸æ˜¯ç²¾å‡†ç‡ï¼Œè¾ƒå°çš„betaå€¼ä¾§é‡äºç²¾å‡†ç‡è€Œä¸æ˜¯å¬å›ç‡ã€‚

```markdown
suffix: string Optional Defaults: null
ä¸€ä¸ªé•¿åº¦æœ€å¤šä¸º40ä¸ªå­—ç¬¦çš„å­—ç¬¦ä¸²ï¼Œå®ƒä¼šè¢«æ·»åŠ åˆ°å¾®è°ƒåçš„æ¨¡å‹åç§°ä¸­ã€‚
```

### ç¤ºä¾‹è¯·æ±‚

### curl

```markdown
curl https://api.openai.com/v1/fine-tunes \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer $OPENAI_API_KEY" \
  -d '{
    "training_file": "file-XGinujblHPwGLSztz8cPS8XY"
  }'
```

### python

```python
import os
import openai
openai.api_key = os.getenv("OPENAI_API_KEY")
openai.FineTune.create(training_file="file-XGinujblHPwGLSztz8cPS8XY")
```

### node.js

```jsx
const { Configuration, OpenAIApi } = require("openai");
const configuration = new Configuration({
  apiKey: process.env.OPENAI_API_KEY,
});
const openai = new OpenAIApi(configuration);
const response = await openai.createFineTune({
  training_file: "file-XGinujblHPwGLSztz8cPS8XY",
});
```

### ç¤ºä¾‹å“åº”

```json
{
  "id": "ft-AF1WoRqd3aJAHsqc9NY7iL8F",
  "object": "fine-tune",
  "model": "curie",
  "created_at": 1614807352,
  "events": [
    {
      "object": "fine-tune-event",
      "created_at": 1614807352,
      "level": "info",
      "message": "Job enqueued. Waiting for jobs ahead to complete. Queue number: 0."
    }
  ],
  "fine_tuned_model": null,
  "hyperparams": {
    "batch_size": 4,
    "learning_rate_multiplier": 0.1,
    "n_epochs": 4,
    "prompt_loss_weight": 0.1,
  },
  "organization_id": "org-...",
  "result_files": [],
  "status": "pending",
  "validation_files": [],
  "training_files": [
    {
      "id": "file-XGinujblHPwGLSztz8cPS8XY",
      "object": "file",
      "bytes": 1547276,
      "created_at": 1610062281,
      "filename": "my-data-train.jsonl",
      "purpose": "fine-tune-train"
    }
  ],
  "updated_at": 1614807352,
}
```

## åˆ—å‡ºå¾®è°ƒ

åˆ—å‡ºä½ çš„ç»„ç»‡çš„å¾®è°ƒä½œä¸šã€‚

```markdown
GET https://api.openai.com/v1/fine-tunes
```

### å‚æ•°

### ç¤ºä¾‹è¯·æ±‚

### curl

```markdown
curl https://api.openai.com/v1/fine-tunes \
  -H "Authorization: Bearer $OPENAI_API_KEY"
```

### python

```python
import os
import openai
openai.api_key = os.getenv("OPENAI_API_KEY")
openai.FineTune.list()
```

### node.js

```jsx
const { Configuration, OpenAIApi } = require("openai");
const configuration = new Configuration({
  apiKey: process.env.OPENAI_API_KEY,
});
const openai = new OpenAIApi(configuration);
const response = await openai.listFineTunes();
```

### ç¤ºä¾‹å“åº”

```json
{
  "object": "list",
  "data": [
    {
      "id": "ft-AF1WoRqd3aJAHsqc9NY7iL8F",
      "object": "fine-tune",
      "model": "curie",
      "created_at": 1614807352,
      "fine_tuned_model": null,
      "hyperparams": { ... },
      "organization_id": "org-...",
      "result_files": [],
      "status": "pending",
      "validation_files": [],
      "training_files": [ { ... } ],
      "updated_at": 1614807352,
    },
    { ... },
    { ... }
  ]
}
```

## æ£€ç´¢å¾®è°ƒ

è·å–æœ‰å…³å¾®è°ƒä½œä¸šçš„ä¿¡æ¯ã€‚

```markdown
GET https://api.openai.com/v1/fine-tunes/{fine_tune_id}
```

### å‚æ•°

```json
fine_tune_id: string Required
å¾®è°ƒä½œä¸šçš„IDã€‚
```

### ç¤ºä¾‹è¯·æ±‚

### curl

```markdown
curl https://api.openai.com/v1/fine-tunes/ft-AF1WoRqd3aJAHsqc9NY7iL8F \
  -H "Authorization: Bearer $OPENAI_API_KEY"
```

### python

```python
import os
import openai
openai.api_key = os.getenv("OPENAI_API_KEY")
openai.FineTune.retrieve(id="ft-AF1WoRqd3aJAHsqc9NY7iL8F")
```

### node.js

```jsx
import os
import openai
openai.api_key = os.getenv("OPENAI_API_KEY")
openai.FineTune.retrieve(id="ft-AF1WoRqd3aJAHsqc9NY7iL8F")
```

### ç¤ºä¾‹å“åº”

```json
{
  "id": "ft-AF1WoRqd3aJAHsqc9NY7iL8F",
  "object": "fine-tune",
  "model": "curie",
  "created_at": 1614807352,
  "events": [
    {
      "object": "fine-tune-event",
      "created_at": 1614807352,
      "level": "info",
      "message": "Job enqueued. Waiting for jobs ahead to complete. Queue number: 0."
    },
    {
      "object": "fine-tune-event",
      "created_at": 1614807356,
      "level": "info",
      "message": "Job started."
    },
    {
      "object": "fine-tune-event",
      "created_at": 1614807861,
      "level": "info",
      "message": "Uploaded snapshot: curie:ft-acmeco-2021-03-03-21-44-20."
    },
    {
      "object": "fine-tune-event",
      "created_at": 1614807864,
      "level": "info",
      "message": "Uploaded result files: file-QQm6ZpqdNwAaVC3aSz5sWwLT."
    },
    {
      "object": "fine-tune-event",
      "created_at": 1614807864,
      "level": "info",
      "message": "Job succeeded."
    }
  ],
  "fine_tuned_model": "curie:ft-acmeco-2021-03-03-21-44-20",
  "hyperparams": {
    "batch_size": 4,
    "learning_rate_multiplier": 0.1,
    "n_epochs": 4,
    "prompt_loss_weight": 0.1,
  },
  "organization_id": "org-...",
  "result_files": [
    {
      "id": "file-QQm6ZpqdNwAaVC3aSz5sWwLT",
      "object": "file",
      "bytes": 81509,
      "created_at": 1614807863,
      "filename": "compiled_results.csv",
      "purpose": "fine-tune-results"
    }
  ],
  "status": "succeeded",
  "validation_files": [],
  "training_files": [
    {
      "id": "file-XGinujblHPwGLSztz8cPS8XY",
      "object": "file",
      "bytes": 1547276,
      "created_at": 1610062281,
      "filename": "my-data-train.jsonl",
      "purpose": "fine-tune-train"
    }
  ],
  "updated_at": 1614807865,
}
```

## å–æ¶ˆå¾®è°ƒ

```markdown
POST https://api.openai.com/v1/fine-tunes/{fine_tune_id}/cancel
```

### å‚æ•°

```json
fine_tune_id: string Required
è¦å–æ¶ˆçš„å¾®è°ƒä½œä¸šçš„IDã€‚
```

### ç¤ºä¾‹è¯·æ±‚

### curl

```markdown
curl https://api.openai.com/v1/fine-tunes/ft-AF1WoRqd3aJAHsqc9NY7iL8F/cancel \
  -H "Authorization: Bearer $OPENAI_API_KEY"
```

### python

```python
import os
import openai
openai.api_key = os.getenv("OPENAI_API_KEY")
openai.FineTune.cancel(id="ft-AF1WoRqd3aJAHsqc9NY7iL8F")
```

### node.js

```jsx
const { Configuration, OpenAIApi } = require("openai");
const configuration = new Configuration({
  apiKey: process.env.OPENAI_API_KEY,
});
const openai = new OpenAIApi(configuration);
const response = await openai.cancelFineTune("ft-AF1WoRqd3aJAHsqc9NY7iL8F");
```

### ç¤ºä¾‹å“åº”

```json
{
  "id": "ft-xhrpBbvVUzYGo8oUO1FY4nI7",
  "object": "fine-tune",
  "model": "curie",
  "created_at": 1614807770,
  "events": [ { ... } ],
  "fine_tuned_model": null,
  "hyperparams": { ... },
  "organization_id": "org-...",
  "result_files": [],
  "status": "cancelled",
  "validation_files": [],
  "training_files": [
    {
      "id": "file-XGinujblHPwGLSztz8cPS8XY",
      "object": "file",
      "bytes": 1547276,
      "created_at": 1610062281,
      "filename": "my-data-train.jsonl",
      "purpose": "fine-tune-train"
    }
  ],
  "updated_at": 1614807789,
}
```

## åˆ—å‡ºå¾®è°ƒäº‹ä»¶

<aside>
ğŸ“– Query parametersï¼šæŸ¥è¯¢å‚æ•°ï¼Œä¹Ÿç§°ä¸ºURLå‚æ•°ã€æŸ¥è¯¢å­—ç¬¦ä¸²æˆ–è¯·æ±‚å‚æ•°ï¼ŒæŸ¥è¯¢å‚æ•°æ˜¯ä¸€ç§å°†æ•°æ®ä¼ é€’åˆ°æœåŠ¡å™¨çš„URLæ–¹æ³•ã€‚ å®ƒä»¬ä»¥é—®å· (?) å¼€å§‹ï¼Œå¹¶ä½¿ç”¨name=valueçš„å½¢å¼æ¥ç»„ç»‡æ•°æ®ï¼Œå¤šä¸ªæŸ¥è¯¢å‚æ•°å¯ä»¥ä½¿ç”¨&ç¬¦å·åˆ†éš”ã€‚

</aside>

```markdown
GET https://api.openai.com/v1/fine-tunes/{fine_tune_id}/events
```

### å‚æ•°

```markdown
fine_tune_id: string Required
è¦è·å–äº‹ä»¶çš„å¾®è°ƒä½œä¸šçš„IDã€‚
```

### URLæŸ¥è¯¢å‚æ•°

```markdown
stream: boolean Optional Defaults: false
```

### ç¤ºä¾‹è¯·æ±‚

### curl

```markdown
curl https://api.openai.com/v1/fine-tunes/ft-AF1WoRqd3aJAHsqc9NY7iL8F/events \
  -H "Authorization: Bearer $OPENAI_API_KEY"
```

### python

```python
import os
import openai
openai.api_key = os.getenv("OPENAI_API_KEY")
openai.FineTune.list_events(id="ft-AF1WoRqd3aJAHsqc9NY7iL8F")
```

### node.js

```jsx
const { Configuration, OpenAIApi } = require("openai");
const configuration = new Configuration({
  apiKey: process.env.OPENAI_API_KEY,
});
const openai = new OpenAIApi(configuration);
const response = await openai.listFineTuneEvents("ft-AF1WoRqd3aJAHsqc9NY7iL8F");
```

### **query parameter**

```markdown
##stream = true
https://api.openai.com/v1/fine-tunes/{fine_tune_id}/events?stream=true
##stream = false
https://api.openai.com/v1/fine-tunes/{fine_tune_id}/events?stream=false
```

### ç¤ºä¾‹å“åº”

```json
{
  "object": "list",
  "data": [
    {
      "object": "fine-tune-event",
      "created_at": 1614807352,
      "level": "info",
      "message": "Job enqueued. Waiting for jobs ahead to complete. Queue number: 0."
    },
    {
      "object": "fine-tune-event",
      "created_at": 1614807356,
      "level": "info",
      "message": "Job started."
    },
    {
      "object": "fine-tune-event",
      "created_at": 1614807861,
      "level": "info",
      "message": "Uploaded snapshot: curie:ft-acmeco-2021-03-03-21-44-20."
    },
    {
      "object": "fine-tune-event",
      "created_at": 1614807864,
      "level": "info",
      "message": "Uploaded result files: file-QQm6ZpqdNwAaVC3aSz5sWwLT."
    },
    {
      "object": "fine-tune-event",
      "created_at": 1614807864,
      "level": "info",
      "message": "Job succeeded."
    }
  ]
}
```

## åˆ é™¤å¾®è°ƒæ¨¡å‹

åˆ é™¤å¾®è°ƒåçš„æ¨¡å‹ã€‚

<aside>
âš ï¸ å¿…é¡»åœ¨ç»„ç»‡ï¼ˆOrganizationï¼‰ä¸­å…·æœ‰æ‰€æœ‰è€…ï¼ˆOwnerï¼‰è§’è‰²ï¼ˆRoleï¼‰æ‰å¯ä»¥è¿›è¡Œåˆ é™¤æ“ä½œã€‚

</aside>

```markdown
DELETE https://api.openai.com/v1/models/{model}
```

### å‚æ•°

```markdown
model: string Required
éœ€è¦åˆ é™¤çš„æ¨¡å‹ã€‚
```

### ç¤ºä¾‹è¯·æ±‚

### curl

```markdown
curl https://api.openai.com/v1/models/curie:ft-acmeco-2021-03-03-21-44-20 \
  -X DELETE \
  -H "Authorization: Bearer $OPENAI_API_KEY"
```

### python

```python
import os
import openai
openai.api_key = os.getenv("OPENAI_API_KEY")
openai.Model.delete("curie:ft-acmeco-2021-03-03-21-44-20")
```

### node.js

```jsx
const { Configuration, OpenAIApi } = require("openai");
const configuration = new Configuration({
  apiKey: process.env.OPENAI_API_KEY,
});
const openai = new OpenAIApi(configuration);
const response = await openai.deleteModel('curie:ft-acmeco-2021-03-03-21-44-20');
```

### ç¤ºä¾‹å“åº”

```json
{
  "id": "curie:ft-acmeco-2021-03-03-21-44-20",
  "object": "model",
  "deleted": true
}
```

# [å†…å®¹å®¡æ ¸](https://platform.openai.com/docs/api-reference/moderations)

<aside>
ğŸ“– **Moderationï¼š**å†…å®¹å®¡æ ¸ï¼Œåœ¨è¾“å‡ºå†…å®¹ä¹‹å‰ï¼Œè¯·å®¡æ ¸å¹¶å¤„ç†æ–‡æœ¬ï¼Œç¡®ä¿å…¶ç¬¦åˆOpenAIå†…å®¹æ”¿ç­–ï¼Œä¸åŒ…å«ä»»ä½•ä¸è‰¯æˆ–æ•æ„Ÿä¿¡æ¯ã€‚å¦‚æœè¾“å…¥æ–‡æœ¬è¿åäº†OpenAIå†…å®¹æ”¿ç­–ï¼ŒModerationå°†ä¼šè¿›è¡Œå¤„ç†ï¼ˆä¸­å’Œã€ä¿®æ”¹ã€æ‹’ç»ç­‰ï¼‰ï¼Œä»¥ç¡®ä¿è¾“å‡ºå†…å®¹ç¬¦åˆè§„èŒƒã€‚

</aside>

æ¥æ”¶è¾“å…¥æ–‡æœ¬ï¼Œå¹¶ç¡®å®šæ¨¡å‹æ˜¯å¦å°†å…¶å½’ç±»ä¸ºè¿å[OpenAIå†…å®¹æ”¿ç­–](OpenAI%20%E5%86%85%E5%AE%B9%E6%94%BF%E7%AD%96%2031e377528cfe49a9958830beb84c5883.md)çš„æ–‡æœ¬ã€‚

è¯¦ç»†åˆ†ç±»è§[å†…å®¹å®¡æ ¸](%E5%86%85%E5%AE%B9%E5%AE%A1%E6%A0%B8%2033c5b656db41423db4271b57d822379c.md)

## åˆ›å»ºå†…å®¹å®¡æ ¸

å¯¹æ–‡æœ¬è¿›è¡Œåˆ†ç±»ï¼Œç¡®å®šå…¶æ˜¯å¦è¿åOpenAIå†…å®¹æ”¿ç­–ã€‚

```markdown
POST https://api.openai.com/v1/moderations
```

### å‚æ•°

```markdown
input: string | array Required
éœ€è¦åˆ†ç±»çš„è¾“å…¥æ–‡æœ¬ã€‚
```

```
model: string Optional Defaults: text-moderation-latest
æœ‰ä¸¤ä¸ªå†…å®¹å®¡æŸ¥æ¨¡å‹å¯ä¾›é€‰æ‹©ï¼štext-moderation-stableå’Œtext-moderation-latestã€‚
```

é»˜è®¤æ¨¡å‹ä¸ºtext-moderation-latestï¼Œä¼šè‡ªåŠ¨å‡çº§ä»¥ç¡®ä¿å§‹ç»ˆä½¿ç”¨æœ€å‡†ç¡®çš„æ¨¡å‹ã€‚text-moderation-stableçš„å‡†ç¡®æ€§å¯èƒ½ç•¥ä½äºtext-moderation-latestã€‚

### ç¤ºä¾‹è¯·æ±‚

### curl

```markdown
curl https://api.openai.com/v1/moderations \
  -H "Content-Type: application/json" \
  -H "Authorization: Bearer $OPENAI_API_KEY" \
  -d '{
    "input": "I want to kill them."
  }'
```

### python

```python
import os
import openai
openai.api_key = os.getenv("OPENAI_API_KEY")
openai.Moderation.create(
  input="I want to kill them.",
)
```

### node.js

```jsx
const { Configuration, OpenAIApi } = require("openai");
const configuration = new Configuration({
  apiKey: process.env.OPENAI_API_KEY,
});
const openai = new OpenAIApi(configuration);
const response = await openai.createModeration({
  input: "I want to kill them.",
});
```

### ç¤ºä¾‹å“åº”

```json
{
  "id": "modr-5MWoLO",
  "model": "text-moderation-001",
  "results": [
    {
      "categories": {
        "hate": false,
        "hate/threatening": true,
        "self-harm": false,
        "sexual": false,
        "sexual/minors": false,
        "violence": true,
        "violence/graphic": false
      },
      "category_scores": {
        "hate": 0.22714105248451233,
        "hate/threatening": 0.4132447838783264,
        "self-harm": 0.005232391878962517,
        "sexual": 0.01407341007143259,
        "sexual/minors": 0.0038522258400917053,
        "violence": 0.9223177433013916,
        "violence/graphic": 0.036865197122097015
      },
      "flagged": true
    }
  ]
}
```

# [å¼•æ“](https://platform.openai.com/docs/api-reference/engines) Deprecated

<aside>
âš ï¸ å·²åºŸå¼ƒï¼Œè¯·ä¼˜å…ˆä½¿ç”¨â€æ¨¡å‹â€œè€Œä¸æ˜¯å¼•æ“

</aside>

## **åˆ—å‡º**å¼•æ“

åˆ—å‡ºå½“å‰å¯ç”¨çš„ï¼ˆæœªè¿›è¡Œå¾®è°ƒçš„ï¼‰æ¨¡å‹ï¼Œå¹¶æä¾›æœ‰å…³æ¯ä¸ªæ¨¡å‹çš„åŸºæœ¬ä¿¡æ¯ï¼Œå¦‚æ‰€æœ‰è€…å’Œå¯ç”¨æ€§ã€‚

```markdown
GET https://api.openai.com/v1/engines
```

### å‚æ•°

### ç¤ºä¾‹è¯·æ±‚

curl

```markdown
curl https://api.openai.com/v1/engines \
  -H "Authorization: Bearer $OPENAI_API_KEY"
```

python

```python
import os
import openai
openai.api_key = os.getenv("OPENAI_API_KEY")
openai.Engine.list()
```

node.js

```jsx
const { Configuration, OpenAIApi } = require("openai");
const configuration = new Configuration({
  apiKey: process.env.OPENAI_API_KEY,
});
const openai = new OpenAIApi(configuration);
const response = await openai.listEngines();
```

### ç¤ºä¾‹å“åº”

```json
{
  "data": [
    {
      "id": "engine-id-0",
      "object": "engine",
      "owner": "organization-owner",
      "ready": true
    },
    {
      "id": "engine-id-2",
      "object": "engine",
      "owner": "organization-owner",
      "ready": true
    },
    {
      "id": "engine-id-3",
      "object": "engine",
      "owner": "openai",
      "ready": false
    },
  ],
  "object": "list"
}
```

## **è·å–æ¨¡å‹**

```markdown
GETÂ https://api.openai.com/v1/engines/{engine_id}
```

æ£€ç´¢æ¨¡å‹å®ä¾‹ï¼Œæä¾›æœ‰å…³æ¨¡å‹çš„åŸºæœ¬ä¿¡æ¯ï¼Œä¾‹å¦‚æ‰€æœ‰è€…å’Œæƒé™è®¾ç½®ã€‚

### å‚æ•°

```markdown
engine_id: string Required
ç”¨äºæ­¤è¯·æ±‚çš„æ¨¡å‹çš„ID
```

### ç¤ºä¾‹è¯·æ±‚

<aside>
ğŸ¤– ä»¥â€text-davinci-003â€ä¸ºä¾‹ï¼Œå¯è‡ªç”±æ›¿æ¢ç°æœ‰æ¨¡å‹ï¼Œè¯¦ç»†åç§°è¯·æŸ¥é˜…[æ¨¡å‹](%E6%A8%A1%E5%9E%8B%20d5054199951a46c8b18dbd2073c3fa78.md)æ–‡æ¡£

</aside>

### **curl**

```markdown
curl https://api.openai.com/v1/engines/text-davinci-003 \
  -H "Authorization: Bearer $OPENAI_API_KEY"
```

### **python**

```python
import os
import openai
openai.api_key = os.getenv("OPENAI_API_KEY")
openai.Engine.retrieve("text-davinci-003")
```

### **node.js**

```jsx
const { Configuration, OpenAIApi } = require("openai");
const configuration = new Configuration({
  apiKey: process.env.OPENAI_API_KEY,
});
const openai = new OpenAIApi(configuration);
const response = await openai.retrieveEngine("text-davinci-003");
```

### ç¤ºä¾‹å“åº”

```json
{
  "id": "text-davinci-003",
  "object": "engine",
  "owner": "openai",
  "ready": true
}
```